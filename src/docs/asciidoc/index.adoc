= Backend API
:doctype: book
:toc: left
:toclevels: 2
:sectanchors:
:sectlinks:

:stylesdir: styles
:stylesheet: custom.css
:linkcss:

== Users

=== 회원가입

[sidebar]
.설명
****
- 이메일/비밀번호/이름으로 회원가입합니다.
- 비밀번호는 서버에서 BCrypt로 암호화되어 저장됩니다.
****

==== Request

include::{snippets}/users-create/http-request.adoc[]
include::{snippets}/users-create/request-fields.adoc[]

==== Response

include::{snippets}/users-create/http-response.adoc[]
include::{snippets}/users-create/response-fields.adoc[]

==== 실패 응답

===== 400 Validation Error
include::{snippets}/users-create-400-validation/http-response.adoc[]
include::{snippets}/users-create-400-validation/response-fields.adoc[]

===== 409 Duplicate Email
include::{snippets}/users-create-409-duplicate-email/http-response.adoc[]
include::{snippets}/users-create-409-duplicate-email/response-fields.adoc[]

=== 사용자 검색 (Cursor Paging)

include::{snippets}/users-search-200/http-request.adoc[]
include::{snippets}/users-search-200/request-headers.adoc[]
include::{snippets}/users-search-200/query-parameters.adoc[]
include::{snippets}/users-search-200/http-response.adoc[]
include::{snippets}/users-search-200/response-fields.adoc[]

==== 다음 페이지 조회 예시

include::{snippets}/users-search-200-next-page/http-request.adoc[]
include::{snippets}/users-search-200-next-page/request-headers.adoc[]
include::{snippets}/users-search-200-next-page/query-parameters.adoc[]
include::{snippets}/users-search-200-next-page/http-response.adoc[]
include::{snippets}/users-search-200-next-page/response-fields.adoc[]

==== 실패 응답

===== 400 Bad Request (q blank)
include::{snippets}/users-search-400-q-blank/http-request.adoc[]
include::{snippets}/users-search-400-q-blank/request-headers.adoc[]
include::{snippets}/users-search-400-q-blank/query-parameters.adoc[]
include::{snippets}/users-search-400-q-blank/http-response.adoc[]
include::{snippets}/users-search-400-q-blank/response-fields.adoc[]

===== 400 Bad Request (size out of range)
include::{snippets}/users-search-400-size-range/http-request.adoc[]
include::{snippets}/users-search-400-size-range/request-headers.adoc[]
include::{snippets}/users-search-400-size-range/query-parameters.adoc[]
include::{snippets}/users-search-400-size-range/http-response.adoc[]
include::{snippets}/users-search-400-size-range/response-fields.adoc[]

==== 팔로우 여부 표시 예시 (isFollowing)

include::{snippets}/users-search-200-following-flag/http-request.adoc[]
include::{snippets}/users-search-200-following-flag/request-headers.adoc[]
include::{snippets}/users-search-200-following-flag/query-parameters.adoc[]
include::{snippets}/users-search-200-following-flag/http-response.adoc[]
include::{snippets}/users-search-200-following-flag/response-fields.adoc[]

== Auth

=== 내 정보 조회 (/api/me)

==== 200 OK
include::{snippets}/me-200-ok/http-request.adoc[]
include::{snippets}/me-200-ok/request-headers.adoc[]
include::{snippets}/me-200-ok/http-response.adoc[]
include::{snippets}/me-200-ok/response-fields.adoc[]

==== 401 Unauthorized (토큰 없음)
include::{snippets}/me-401-unauthorized/http-request.adoc[]
include::{snippets}/me-401-unauthorized/http-response.adoc[]

== Posts

=== 게시글 생성

==== Request
include::{snippets}/posts-create/http-request.adoc[]
include::{snippets}/posts-create/request-headers.adoc[]
include::{snippets}/posts-create/request-fields.adoc[]

==== Response
include::{snippets}/posts-create/http-response.adoc[]
include::{snippets}/posts-create/response-fields.adoc[]

=== 게시글 상세 조회

==== Request
include::{snippets}/posts-get/http-request.adoc[]
include::{snippets}/posts-get/request-headers.adoc[]

==== Response
include::{snippets}/posts-get/http-response.adoc[]
include::{snippets}/posts-get/response-fields.adoc[]

=== 피드 조회 (최신순)

==== Request
include::{snippets}/feed-get/http-request.adoc[]
include::{snippets}/feed-get/request-headers.adoc[]
include::{snippets}/feed-get/query-parameters.adoc[]

==== Response
include::{snippets}/feed-get/http-response.adoc[]
include::{snippets}/feed-get/response-fields.adoc[]

==== 다음 페이지 조회 예시
include::{snippets}/feed-get-next-page/http-request.adoc[]
include::{snippets}/feed-get-next-page/request-headers.adoc[]
include::{snippets}/feed-get-next-page/query-parameters.adoc[]
include::{snippets}/feed-get-next-page/http-response.adoc[]
include::{snippets}/feed-get-next-page/response-fields.adoc[]

=== 게시글 삭제

==== Request
include::{snippets}/posts-delete/http-request.adoc[]
include::{snippets}/posts-delete/request-headers.adoc[]

==== Response
include::{snippets}/posts-delete/http-response.adoc[]

== Comments

=== 댓글 생성

==== Request
include::{snippets}/comments-create-201/http-request.adoc[]
include::{snippets}/comments-create-201/request-headers.adoc[]
include::{snippets}/comments-create-201/path-parameters.adoc[]
include::{snippets}/comments-create-201/request-fields.adoc[]

==== Response
include::{snippets}/comments-create-201/http-response.adoc[]
include::{snippets}/comments-create-201/response-fields.adoc[]

==== 실패 응답

===== 400 Validation Error (content blank)
include::{snippets}/comments-create-400-content-blank/http-request.adoc[]
include::{snippets}/comments-create-400-content-blank/request-headers.adoc[]
include::{snippets}/comments-create-400-content-blank/path-parameters.adoc[]
include::{snippets}/comments-create-400-content-blank/request-fields.adoc[]
include::{snippets}/comments-create-400-content-blank/http-response.adoc[]
include::{snippets}/comments-create-400-content-blank/response-fields.adoc[]

=== 댓글 목록 조회 (Cursor Paging)

include::{snippets}/comments-list-200/http-request.adoc[]
include::{snippets}/comments-list-200/request-headers.adoc[]
include::{snippets}/comments-list-200/path-parameters.adoc[]
include::{snippets}/comments-list-200/query-parameters.adoc[]
include::{snippets}/comments-list-200/http-response.adoc[]
include::{snippets}/comments-list-200/response-fields.adoc[]

=== 댓글 삭제

include::{snippets}/comments-delete-204/http-request.adoc[]
include::{snippets}/comments-delete-204/request-headers.adoc[]
include::{snippets}/comments-delete-204/path-parameters.adoc[]
include::{snippets}/comments-delete-204/http-response.adoc[]

== Follows

=== 팔로우

include::{snippets}/follows-create/http-request.adoc[]
include::{snippets}/follows-create/request-headers.adoc[]
include::{snippets}/follows-create/path-parameters.adoc[]
include::{snippets}/follows-create/http-response.adoc[]

== Likes

=== 좋아요

include::{snippets}/post-likes-create-204/http-request.adoc[]
include::{snippets}/post-likes-create-204/request-headers.adoc[]
include::{snippets}/post-likes-create-204/path-parameters.adoc[]
include::{snippets}/post-likes-create-204/http-response.adoc[]

=== 좋아요 취소

include::{snippets}/post-likes-delete-204/http-request.adoc[]
include::{snippets}/post-likes-delete-204/request-headers.adoc[]
include::{snippets}/post-likes-delete-204/path-parameters.adoc[]
include::{snippets}/post-likes-delete-204/http-response.adoc[]

== Notifications

=== 내 알림 목록 조회 (Cursor Paging)

include::{snippets}/notifications-get-200/http-request.adoc[]
include::{snippets}/notifications-get-200/request-headers.adoc[]
include::{snippets}/notifications-get-200/query-parameters.adoc[]
include::{snippets}/notifications-get-200/http-response.adoc[]
include::{snippets}/notifications-get-200/response-fields.adoc[]

==== 다음 페이지 조회 예시

include::{snippets}/notifications-get-200-next-page/http-request.adoc[]
include::{snippets}/notifications-get-200-next-page/request-headers.adoc[]
include::{snippets}/notifications-get-200-next-page/query-parameters.adoc[]
include::{snippets}/notifications-get-200-next-page/http-response.adoc[]
include::{snippets}/notifications-get-200-next-page/response-fields.adoc[]

=== 알림 단건 읽음 처리

include::{snippets}/notifications-read-200/http-request.adoc[]
include::{snippets}/notifications-read-200/request-headers.adoc[]
include::{snippets}/notifications-read-200/path-parameters.adoc[]
include::{snippets}/notifications-read-200/http-response.adoc[]

=== 내 미읽음 알림 전체 읽음 처리

include::{snippets}/notifications-read-all-200/http-request.adoc[]
include::{snippets}/notifications-read-all-200/request-headers.adoc[]
include::{snippets}/notifications-read-all-200/http-response.adoc[]
include::{snippets}/notifications-read-all-200/response-fields.adoc[]

=== 읽은 알림 일괄 삭제(soft delete)

include::{snippets}/notifications-delete-read-200/http-request.adoc[]
include::{snippets}/notifications-delete-read-200/request-headers.adoc[]
include::{snippets}/notifications-delete-read-200/http-response.adoc[]
include::{snippets}/notifications-delete-read-200/response-fields.adoc[]

== Messages

=== 대화방 메시지 목록 조회 (커서 페이징)

==== Request
include::{snippets}/messages-get/http-request.adoc[]
include::{snippets}/messages-get/request-headers.adoc[]
include::{snippets}/messages-get/path-parameters.adoc[]
include::{snippets}/messages-get/query-parameters.adoc[]

==== Response
include::{snippets}/messages-get/http-response.adoc[]
include::{snippets}/messages-get/response-fields.adoc[]

==== 다음 페이지 조회 예시
include::{snippets}/messages-get-next-page/http-request.adoc[]
include::{snippets}/messages-get-next-page/request-headers.adoc[]
include::{snippets}/messages-get-next-page/path-parameters.adoc[]
include::{snippets}/messages-get-next-page/query-parameters.adoc[]
include::{snippets}/messages-get-next-page/http-response.adoc[]
include::{snippets}/messages-get-next-page/response-fields.adoc[]