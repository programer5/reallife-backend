<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Backend API</title>
<link rel="stylesheet" href="styles/custom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Backend API</h1>
<div class="details">
<span id="revnumber">version 0.0.1-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a>
<ul class="sectlevel2">
<li><a href="#_인증_방식_선택_가이드">1.1. 인증 방식 선택 가이드</a>
<ul class="sectlevel3">
<li><a href="#_cookie_방식권장">1.1.1. Cookie 방식(권장)</a></li>
<li><a href="#_bearer_방식대안">1.1.2. Bearer 방식(대안)</a></li>
</ul>
</li>
<li><a href="#_quick_start_bearer">1.2. Quick Start (Bearer)</a></li>
<li><a href="#_quick_start_cookie">1.3. Quick Start (Cookie)</a></li>
<li><a href="#_프론트axios에서_권장하는_401_처리_흐름">1.4. 프론트(axios)에서 권장하는 401 처리 흐름</a></li>
<li><a href="#_운영_환경_쿠키_설정_https_중요">1.5. 운영 환경 쿠키 설정 (HTTPS 중요)</a></li>
<li><a href="#_sse_운영_팁_nginxproxy">1.6. SSE 운영 팁 (Nginx/Proxy)</a></li>
<li><a href="#_공통_에러_응답_안내가이드">1.7. 공통 에러 응답 안내(가이드)</a></li>
</ul>
</li>
<li><a href="#_usage_scenarios_실전_사용_흐름">2. Usage Scenarios (실전 사용 흐름)</a>
<ul class="sectlevel2">
<li><a href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회">2.1. 시나리오 1: 회원가입 → 로그인(Cookie) → 내 정보 조회</a></li>
<li><a href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인">2.2. 시나리오 2: 파일 업로드 → 게시글 생성 → 피드 확인</a></li>
<li><a href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse">2.3. 시나리오 3: 쿠키 기반 채팅 실시간(메시지/삭제) + 알림 실시간(SSE)</a>
<ul class="sectlevel3">
<li><a href="#_3_1_sse_구독_cookie_권장">2.3.1. 3-1) SSE 구독 (Cookie 권장)</a></li>
<li><a href="#_3_2_direct_대화방_생성조회">2.3.2. 3-2) DIRECT 대화방 생성/조회</a></li>
<li><a href="#_3_3_메시지_목록_조회_화면_동기화용">2.3.3. 3-3) 메시지 목록 조회 (화면 동기화용)</a></li>
<li><a href="#_3_4_메시지_전송">2.3.4. 3-4) 메시지 전송</a></li>
<li><a href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트">2.3.5. 3-5) SSE 이벤트 종류(서버가 실제로 보내는 이벤트)</a></li>
<li><a href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie">2.3.6. 3-6) 401/재연결 권장 규칙 (쿠키 + refresh-cookie)</a></li>
</ul>
</li>
<li><a href="#_faq">2.4. FAQ</a>
<ul class="sectlevel3">
<li><a href="#_q1_401이_반복돼요">2.4.1. Q1. 401이 반복돼요</a></li>
<li><a href="#_q2_sse가_끊겨요">2.4.2. Q2. SSE가 끊겨요</a></li>
<li><a href="#_q3_refresh_cookie는_언제_호출해요">2.4.3. Q3. refresh-cookie는 언제 호출해요?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_1_authentication">3. 1. Authentication</a>
<ul class="sectlevel2">
<li><a href="#_로그인_bearer">3.1. 로그인 (Bearer)</a></li>
<li><a href="#_토큰_재발급refresh_bearer">3.2. 토큰 재발급(Refresh, Bearer)</a>
<ul class="sectlevel3">
<li><a href="#_실패_refresh_token_재사용401">3.2.1. 실패: Refresh Token 재사용(401)</a></li>
</ul>
</li>
<li><a href="#_전_기기_로그아웃_bearer">3.3. 전 기기 로그아웃 (Bearer)</a></li>
<li><a href="#_로그인_cookie">3.4. 로그인 (Cookie)</a></li>
<li><a href="#_토큰_재발급_cookie">3.5. 토큰 재발급 (Cookie)</a></li>
<li><a href="#_로그아웃_cookie">3.6. 로그아웃 (Cookie)</a></li>
<li><a href="#_전_기기_로그아웃_cookie">3.7. 전 기기 로그아웃 (Cookie)</a></li>
</ul>
</li>
<li><a href="#_2_users">4. 2. Users</a>
<ul class="sectlevel2">
<li><a href="#_회원가입">4.1. 회원가입</a>
<ul class="sectlevel3">
<li><a href="#_실패_400_validation">4.1.1. 실패: 400 Validation</a></li>
<li><a href="#_실패_409_duplicate_email">4.1.2. 실패: 409 Duplicate Email</a></li>
<li><a href="#_실패_409_duplicate_handle">4.1.3. 실패: 409 Duplicate Handle</a></li>
</ul>
</li>
<li><a href="#_사용자_검색_cursor_paging">4.2. 사용자 검색 (Cursor Paging)</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_조회_예시">4.2.1. 다음 페이지 조회 예시</a></li>
<li><a href="#_팔로잉_여부_포함_예시">4.2.2. 팔로잉 여부 포함 예시</a></li>
<li><a href="#_실패_q_blank400">4.2.3. 실패: q blank(400)</a></li>
<li><a href="#_실패_size_range400">4.2.4. 실패: size range(400)</a></li>
</ul>
</li>
<li><a href="#_프로필_조회">4.3. 프로필 조회</a></li>
</ul>
</li>
<li><a href="#_3_me">5. 3. Me</a>
<ul class="sectlevel2">
<li><a href="#_내_정보_조회">5.1. 내 정보 조회</a>
<ul class="sectlevel3">
<li><a href="#_실패_401_unauthorized">5.1.1. 실패: 401 Unauthorized</a></li>
</ul>
</li>
<li><a href="#_내_프로필_수정">5.2. 내 프로필 수정</a>
<ul class="sectlevel3">
<li><a href="#_실패_다른_유저_파일_사용403">5.2.1. 실패: 다른 유저 파일 사용(403)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_4_files">6. 4. Files</a>
<ul class="sectlevel2">
<li><a href="#_파일_업로드">6.1. 파일 업로드</a></li>
<li><a href="#_파일_다운로드_브라우저_렌더링">6.2. 파일 다운로드 (브라우저 렌더링)</a>
<ul class="sectlevel3">
<li><a href="#_304_not_modified_etag">6.2.1. 304 Not Modified (ETag)</a></li>
</ul>
</li>
<li><a href="#_썸네일_조회">6.3. 썸네일 조회</a>
<ul class="sectlevel3">
<li><a href="#_304_not_modified_etag_2">6.3.1. 304 Not Modified (ETag)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_5_follows">7. 5. Follows</a>
<ul class="sectlevel2">
<li><a href="#_팔로우">7.1. 팔로우</a>
<ul class="sectlevel3">
<li><a href="#_실패_자기_자신_팔로우400">7.1.1. 실패: 자기 자신 팔로우(400)</a></li>
</ul>
</li>
<li><a href="#_언팔로우">7.2. 언팔로우</a></li>
</ul>
</li>
<li><a href="#_6_posts">8. 6. Posts</a>
<ul class="sectlevel2">
<li><a href="#_게시글_생성">8.1. 게시글 생성</a></li>
<li><a href="#_게시글_단건_조회">8.2. 게시글 단건 조회</a></li>
<li><a href="#_게시글_삭제">8.3. 게시글 삭제</a></li>
</ul>
</li>
<li><a href="#_7_post_likes">9. 7. Post Likes</a>
<ul class="sectlevel2">
<li><a href="#_좋아요">9.1. 좋아요</a></li>
<li><a href="#_좋아요_취소">9.2. 좋아요 취소</a></li>
</ul>
</li>
<li><a href="#_8_comments">10. 8. Comments</a>
<ul class="sectlevel2">
<li><a href="#_댓글_생성201">10.1. 댓글 생성(201)</a>
<ul class="sectlevel3">
<li><a href="#_실패_내용_비어있음400">10.1.1. 실패: 내용 비어있음(400)</a></li>
</ul>
</li>
<li><a href="#_댓글_목록200">10.2. 댓글 목록(200)</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시">10.2.1. 다음 페이지 예시</a></li>
<li><a href="#_다음_페이지_followup_예시">10.2.2. 다음 페이지 followup 예시</a></li>
<li><a href="#_실패_invalid_cursor400">10.2.3. 실패: invalid cursor(400)</a></li>
</ul>
</li>
<li><a href="#_댓글_삭제204">10.3. 댓글 삭제(204)</a>
<ul class="sectlevel3">
<li><a href="#_실패_invalid_uuid400">10.3.1. 실패: invalid uuid(400)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_9_feed">11. 9. Feed</a>
<ul class="sectlevel2">
<li><a href="#_피드_조회">11.1. 피드 조회</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_2">11.1.1. 다음 페이지 예시</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_10_conversations_messages">12. 10. Conversations &amp; Messages</a>
<ul class="sectlevel2">
<li><a href="#_대화방_생성조회direct">12.1. 대화방 생성/조회(DIRECT)</a></li>
<li><a href="#_대화방_목록">12.2. 대화방 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_3">12.2.1. 다음 페이지 예시</a></li>
<li><a href="#_다음_페이지_followup_예시_2">12.2.2. 다음 페이지 followup 예시</a></li>
</ul>
</li>
<li><a href="#_대화_읽음_처리read">12.3. 대화 읽음 처리(READ)</a></li>
<li><a href="#_안_읽은_메시지_before">12.4. 안 읽은 메시지: before</a></li>
<li><a href="#_안_읽은_메시지_before_messages_get">12.5. 안 읽은 메시지: before (messages get)</a></li>
<li><a href="#_안_읽은_메시지_after">12.6. 안 읽은 메시지: after</a></li>
<li><a href="#_안_읽은_메시지_after_messages_get">12.7. 안 읽은 메시지: after (messages get)</a></li>
<li><a href="#_메시지_전송">12.8. 메시지 전송</a></li>
<li><a href="#_메시지_목록">12.9. 메시지 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_4">12.9.1. 다음 페이지 예시</a></li>
<li><a href="#_자동_읽음_처리_예시">12.9.2. 자동 읽음 처리 예시</a></li>
<li><a href="#_실패_대화방_없음404">12.9.3. 실패: 대화방 없음(404)</a></li>
</ul>
</li>
<li><a href="#_메시지_숨김">12.10. 메시지 숨김</a></li>
<li><a href="#_메시지_삭제모두에게">12.11. 메시지 삭제(모두에게)</a></li>
<li><a href="#_대화_핀_목록active">12.12. 대화 핀 목록(ACTIVE)</a></li>
<li><a href="#_핀_완료">12.13. 핀 완료</a></li>
<li><a href="#_핀_취소">12.14. 핀 취소</a></li>
<li><a href="#_핀_숨김개인">12.15. 핀 숨김(개인)</a></li>
<li><a href="#_핀_장소_수정">12.16. 핀 장소 수정</a></li>
</ul>
</li>
<li><a href="#_11_notifications">13. 11. Notifications</a>
<ul class="sectlevel2">
<li><a href="#_알림_목록">13.1. 알림 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_5">13.1.1. 다음 페이지 예시</a></li>
</ul>
</li>
<li><a href="#_알림_읽음_처리">13.2. 알림 읽음 처리</a></li>
<li><a href="#_알림_전체_읽음_처리">13.3. 알림 전체 읽음 처리</a></li>
<li><a href="#_알림_삭제읽음처리200">13.4. 알림 삭제/읽음처리(200)</a></li>
</ul>
</li>
<li><a href="#_12_sse">14. 12. SSE</a>
<ul class="sectlevel2">
<li><a href="#_sse_구독">14.1. SSE 구독</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a><a class="link" href="#_overview">1. Overview</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">항목</th>
<th class="tableblock halign-left valign-top">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://localhost" class="bare">http://localhost</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/docs</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">인증</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cookie 방식 권장</strong> (<code>login-cookie</code> / <code>refresh-cookie</code>) + Bearer 대안</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET /api/sse/subscribe</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>이 문서는 Spring REST Docs가 테스트 실행 시 생성한 스니펫(<code>build/generated-snippets</code>)을 include 해서 만들어집니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>스니펫 생성: <code>./gradlew test</code></p>
</li>
<li>
<p>문서 생성: <code>./gradlew asciidoctor</code></p>
</li>
<li>
<p>결과: <code>build/docs/asciidoc/index.html</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_인증_방식_선택_가이드"><a class="anchor" href="#_인증_방식_선택_가이드"></a><a class="link" href="#_인증_방식_선택_가이드">1.1. 인증 방식 선택 가이드</a></h3>
<div class="sect3">
<h4 id="_cookie_방식권장"><a class="anchor" href="#_cookie_방식권장"></a><a class="link" href="#_cookie_방식권장">1.1.1. Cookie 방식(권장)</a></h4>
<div class="ulist">
<ul>
<li>
<p>브라우저 환경에서 가장 자연스럽고, <strong>SSE에도 그대로 적용</strong>하기 쉽습니다.</p>
</li>
<li>
<p>프론트는 `withCredentials: true`로 쿠키를 자동 전송합니다.</p>
</li>
<li>
<p>Access 만료 시 `refresh-cookie`로 재발급 후 원요청을 재시도하는 패턴이 일반적입니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_bearer_방식대안"><a class="anchor" href="#_bearer_방식대안"></a><a class="link" href="#_bearer_방식대안">1.1.2. Bearer 방식(대안)</a></h4>
<div class="ulist">
<ul>
<li>
<p>모바일 앱 / 서버-서버 호출 등 “쿠키를 쓰기 애매한 환경”에서 사용합니다.</p>
</li>
<li>
<p><code>Authorization: Bearer &lt;accessToken&gt;</code> 헤더를 사용합니다.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quick_start_bearer"><a class="anchor" href="#_quick_start_bearer"></a><a class="link" href="#_quick_start_bearer">1.2. Quick Start (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 1) 로그인 → accessToken
curl -s -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login

# 2) Authorization 헤더로 호출
curl -i -H "Authorization: Bearer &lt;accessToken&gt;" http://localhost/api/me</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quick_start_cookie"><a class="anchor" href="#_quick_start_cookie"></a><a class="link" href="#_quick_start_cookie">1.3. Quick Start (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 1) 로그인(쿠키 저장)
curl -i -c cookies.txt \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login-cookie

# 2) 내 정보
curl -i -b cookies.txt http://localhost/api/me

# 3) refresh-cookie (Access 만료 시)
curl -i -b cookies.txt -c cookies.txt http://localhost/api/auth/refresh-cookie

# 4) logout-cookie
curl -i -b cookies.txt http://localhost/api/auth/logout-cookie</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_프론트axios에서_권장하는_401_처리_흐름"><a class="anchor" href="#_프론트axios에서_권장하는_401_처리_흐름"></a><a class="link" href="#_프론트axios에서_권장하는_401_처리_흐름">1.4. 프론트(axios)에서 권장하는 401 처리 흐름</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>권장 패턴(쿠키 인증 기준):</p>
</div>
<div class="paragraph">
<p>1) API 호출 중 401 발생
2) <code>POST /api/auth/refresh-cookie</code> 호출 (쿠키 자동 전송)
3) refresh 성공 시: 원래 실패한 요청을 <strong>딱 1회 재시도</strong>
4) refresh 실패(401/403 등) 시: 세션 만료로 판단하고 로그인 페이지로 이동</p>
</div>
<div class="paragraph">
<p>주의:
- refresh 요청이 동시 다발적으로 발생하지 않도록 “refresh 큐/락(한 번만 실행)”을 권장합니다.
- 무한 재시도 방지를 위해, 같은 요청은 1회만 재시도하도록 제한합니다.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_운영_환경_쿠키_설정_https_중요"><a class="anchor" href="#_운영_환경_쿠키_설정_https_중요"></a><a class="link" href="#_운영_환경_쿠키_설정_https_중요">1.5. 운영 환경 쿠키 설정 (HTTPS 중요)</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>운영이 HTTPS인데 `Secure=false`면 브라우저가 쿠키를 막아 인증이 깨질 수 있습니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>동일 오리진 SPA: 보통 <code>SameSite=Lax</code> 권장</p>
</li>
<li>
<p>프론트/백 도메인 분리(크로스사이트): <code>SameSite=None</code> + `Secure=true`가 필요할 수 있음</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sse_운영_팁_nginxproxy"><a class="anchor" href="#_sse_운영_팁_nginxproxy"></a><a class="link" href="#_sse_운영_팁_nginxproxy">1.6. SSE 운영 팁 (Nginx/Proxy)</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE는 “연결을 오래 유지”하므로 프록시 설정이 중요합니다.</p>
</div>
<div class="paragraph">
<p>권장 설정(요약):
- <code>proxy_buffering off</code> : 버퍼링 비활성화(실시간 전송)
- <code>proxy_read_timeout</code> 충분히 크게 (예: 3600s)
- 필요 시 <code>X-Accel-Buffering: no</code> 헤더도 고려</p>
</div>
<div class="paragraph">
<p>또한:
- 클라이언트는 네트워크 단절에 대비해 자동 재연결(리트라이)을 권장합니다.
- 인증은 쿠키 기반이면 SSE에도 동일하게 적용됩니다(<code>credentials: include</code>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_공통_에러_응답_안내가이드"><a class="anchor" href="#_공통_에러_응답_안내가이드"></a><a class="link" href="#_공통_에러_응답_안내가이드">1.7. 공통 에러 응답 안내(가이드)</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>에러 응답은 보통 아래와 같은 형태를 가집니다(프로젝트 구현에 따라 필드가 다를 수 있음).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "code": "AUTH_UNAUTHORIZED",
  "message": "인증이 필요합니다."
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_scenarios_실전_사용_흐름"><a class="anchor" href="#_usage_scenarios_실전_사용_흐름"></a><a class="link" href="#_usage_scenarios_실전_사용_흐름">2. Usage Scenarios (실전 사용 흐름)</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>이 섹션은 API를 “목록”이 아니라 “실제 제품 흐름”으로 설명합니다.
(각 API의 상세 스펙은 아래 1~12 섹션의 REST Docs 스니펫을 참고하세요.)</p>
</div>
<div class="sect2">
<h3 id="_시나리오_1_회원가입_로그인cookie_내_정보_조회"><a class="anchor" href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회"></a><a class="link" href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회">2.1. 시나리오 1: 회원가입 → 로그인(Cookie) → 내 정보 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 0) 회원가입 (필드: email, handle, password, name)
curl -i -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","handle":"user1","password":"1234","name":"User One"}' \
  http://localhost/api/users

# 1) 로그인(쿠키 저장)
curl -i -c cookies.txt \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login-cookie

# 2) 내 정보 조회
curl -i -b cookies.txt http://localhost/api/me

# 3) 로그아웃
curl -i -b cookies.txt http://localhost/api/auth/logout-cookie</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>브라우저(SPA)에서는 쿠키 자동 저장이므로 `cookies.txt`는 필요 없습니다.</p>
</li>
<li>
<p>프론트는 반드시 `withCredentials: true`를 켜야 합니다.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_시나리오_2_파일_업로드_게시글_생성_피드_확인"><a class="anchor" href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인"></a><a class="link" href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인">2.2. 시나리오 2: 파일 업로드 → 게시글 생성 → 피드 확인</a></h3>
<div class="paragraph">
<p>권장 흐름:
1) 파일 업로드로 <code>fileId</code> 확보
2) 게시글 생성 시 `imageFileIds`에 첨부
3) 피드에서 확인</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># (전제) 로그인 후 cookies.txt가 있다고 가정

# 1) 파일 업로드 (multipart POST /api/files, part name: file)
# - 응답에서 fileId를 확보
curl -i -b cookies.txt \
  -F "file=@./sample.png" \
  http://localhost/api/files

# 2) 게시글 생성 (POST /api/posts)
# - 권장: imageFileIds 사용
curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"content":"hello","imageFileIds":["&lt;fileId&gt;"],"visibility":"FOLLOWERS"}' \
  http://localhost/api/posts

# 3) 피드 조회 (GET /api/feed?size=20)
curl -i -b cookies.txt "http://localhost/api/feed?size=20"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>visibility 값: <code>ALL | FOLLOWERS | PRIVATE</code></p>
</li>
<li>
<p>피드는 cursor 기반 페이징을 지원합니다. (다음 페이지: `cursor`를 응답 값으로 넣어 재호출)</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse"><a class="anchor" href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse"></a><a class="link" href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse">2.3. 시나리오 3: 쿠키 기반 채팅 실시간(메시지/삭제) + 알림 실시간(SSE)</a></h3>
<div class="paragraph">
<p>이 서버는 SSE 이벤트로 실시간 신호를 보내고, 화면 데이터는 REST API 재조회로 동기화하는 패턴을 권장합니다.</p>
</div>
<div class="sect3">
<h4 id="_3_1_sse_구독_cookie_권장"><a class="anchor" href="#_3_1_sse_구독_cookie_권장"></a><a class="link" href="#_3_1_sse_구독_cookie_권장">2.3.1. 3-1) SSE 구독 (Cookie 권장)</a></h4>
<div class="paragraph">
<p>SSE 엔드포인트:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GET /api/sse/subscribe</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>쿠키 인증이면 SSE에도 동일하게 쿠키가 전송되어 인증됩니다.</p>
</li>
<li>
<p>연결 직후 서버는 <code>connected</code> 이벤트를 한 번 보냅니다.</p>
</li>
<li>
<p>클라이언트는 필요 시 <code>Last-Event-ID</code> 헤더로 누락 이벤트를 replay 받을 수 있습니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_3_2_direct_대화방_생성조회"><a class="anchor" href="#_3_2_direct_대화방_생성조회"></a><a class="link" href="#_3_2_direct_대화방_생성조회">2.3.2. 3-2) DIRECT 대화방 생성/조회</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 상대 userId로 DIRECT 대화방 생성/조회
curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"targetUserId":"&lt;targetUserId&gt;"}' \
  http://localhost/api/conversations/direct</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_3_메시지_목록_조회_화면_동기화용"><a class="anchor" href="#_3_3_메시지_목록_조회_화면_동기화용"></a><a class="link" href="#_3_3_메시지_목록_조회_화면_동기화용">2.3.3. 3-3) 메시지 목록 조회 (화면 동기화용)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 최근 메시지 조회 (cursor 기반이면 cursor/size를 사용)
curl -i -b cookies.txt \
  "http://localhost/api/conversations/&lt;conversationId&gt;/messages?size=20"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_4_메시지_전송"><a class="anchor" href="#_3_4_메시지_전송"></a><a class="link" href="#_3_4_메시지_전송">2.3.4. 3-4) 메시지 전송</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"content":"안녕!","attachmentIds":[]}' \
  "http://localhost/api/conversations/&lt;conversationId&gt;/messages"</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트"><a class="anchor" href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트"></a><a class="link" href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트">2.3.5. 3-5) SSE 이벤트 종류(서버가 실제로 보내는 이벤트)</a></h4>
<div class="paragraph">
<p>서버는 아래 이벤트를 전송합니다.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">event name</th>
<th class="tableblock halign-left valign-top">언제 발생</th>
<th class="tableblock halign-left valign-top">클라이언트 권장 동작</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">구독 직후 연결 확인</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">상태 표시(connected), 필요 시 초기 동기화 트리거</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message-created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">상대가 메시지 전송</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 메시지 목록 재조회(또는 뱃지/리스트 갱신)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message-deleted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">메시지 삭제 발생</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 메시지 목록 재조회</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pin-created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">핀 생성</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 핀 목록 재조회(또는 상단 pinned UI 즉시 갱신)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pin-updated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">핀 상태 변경/숨김(done/cancel/dismiss)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 핀 목록 재조회(또는 상단 pinned UI에서 해당 핀 제거/갱신)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notification-created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">새 알림 생성</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">알림 목록 재조회 / 뱃지 카운트 갱신</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>아래 payload 예시는 <strong>실제 SSE event 데이터(JSON)</strong> 기준입니다.
SSE에서는 <code>event: &lt;type&gt;</code> 헤더로 이벤트 타입이 전달되고, 본문은 JSON 입니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_pin_created_payload_예시"><a class="anchor" href="#_pin_created_payload_예시"></a><a class="link" href="#_pin_created_payload_예시">pin-created payload 예시</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "pinId": "d31879a0-6555-4b5b-a4ce-ce5bc1afb43c",
  "conversationId": "04bc3c4c-6c8d-4fc0-8295-02efcd668ff2",
  "createdBy": "4263e045-f76a-476c-857a-f27690ba83fb",
  "type": "SCHEDULE",
  "title": "약속",
  "placeText": "홍대",
  "startAt": "2026-02-28T19:00:00",
  "remindAt": "2026-02-28T18:00:00",
  "status": "ACTIVE",
  "createdAt": "2026-02-26T10:22:55.776"
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pin_updated_payload_예시"><a class="anchor" href="#_pin_updated_payload_예시"></a><a class="link" href="#_pin_updated_payload_예시">pin-updated payload 예시</a></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "pinId": "d31879a0-6555-4b5b-a4ce-ce5bc1afb43c",
  "conversationId": "04bc3c4c-6c8d-4fc0-8295-02efcd668ff2",
  "actorId": "4263e045-f76a-476c-857a-f27690ba83fb",
  "action": "DONE",
  "status": "DONE",
  "title": "약속",
  "placeText": "홍대",
  "startAt": "2026-02-28T19:00:00",
  "remindAt": "2026-02-28T18:00:00",
  "updatedAt": "2026-02-26T10:30:10.123"
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 이벤트 payload는 "화면에 바로 렌더링"하기보다,
- 메시지/알림 API를 재조회해서 서버 상태와 1:1로 맞추는 방식이 운영에 가장 안정적입니다.</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_3_6_401재연결_권장_규칙_쿠키_refresh_cookie"><a class="anchor" href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie"></a><a class="link" href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie">2.3.6. 3-6) 401/재연결 권장 규칙 (쿠키 + refresh-cookie)</a></h4>
<div class="paragraph">
<p>SSE 연결 중 인증 문제가 생기면(401):
1) <code>POST /api/auth/refresh-cookie</code>
2) 성공 시 SSE 재구독
3) 실패 시 로그아웃 처리</p>
</div>
<div class="paragraph">
<p>네트워크 단절/서버 재시작 등(5xx/네트워크 에러):
- 일정 backoff로 자동 재연결
- 가능하면 마지막으로 받은 이벤트 ID를 저장해 `Last-Event-ID`로 전달(누락 replay)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>현재 서버는 구독 시 `Last-Event-ID`를 받아 누락 이벤트 replay를 시도합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_faq"><a class="anchor" href="#_faq"></a><a class="link" href="#_faq">2.4. FAQ</a></h3>
<div class="sect3">
<h4 id="_q1_401이_반복돼요"><a class="anchor" href="#_q1_401이_반복돼요"></a><a class="link" href="#_q1_401이_반복돼요">2.4.1. Q1. 401이 반복돼요</a></h4>
<div class="ulist">
<ul>
<li>
<p>SPA면 `withCredentials: true`가 꺼졌을 가능성이 큽니다.</p>
</li>
<li>
<p>운영 HTTPS라면 <code>Secure=true</code> 쿠키가 아니면 브라우저가 막을 수 있습니다.</p>
</li>
<li>
<p>크로스 도메인이라면 `SameSite=None; Secure`가 필요할 수 있습니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_q2_sse가_끊겨요"><a class="anchor" href="#_q2_sse가_끊겨요"></a><a class="link" href="#_q2_sse가_끊겨요">2.4.2. Q2. SSE가 끊겨요</a></h4>
<div class="ulist">
<ul>
<li>
<p>프록시에서 <code>proxy_buffering off</code>, `proxy_read_timeout`이 빠진 경우가 가장 흔합니다.</p>
</li>
<li>
<p>네트워크 변경에 대비해 클라이언트 자동 재연결이 필요합니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_q3_refresh_cookie는_언제_호출해요"><a class="anchor" href="#_q3_refresh_cookie는_언제_호출해요"></a><a class="link" href="#_q3_refresh_cookie는_언제_호출해요">2.4.3. Q3. refresh-cookie는 언제 호출해요?</a></h4>
<div class="ulist">
<ul>
<li>
<p>보통 “401 발생 시”에만 호출합니다.</p>
</li>
<li>
<p>원 요청은 1회만 재시도(무한 루프 방지)하세요.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_1_authentication"><a class="anchor" href="#_1_authentication"></a><a class="link" href="#_1_authentication">3. 1. Authentication</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_로그인_bearer"><a class="anchor" href="#_로그인_bearer"></a><a class="link" href="#_로그인_bearer">3.1. 로그인 (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/login HTTP/1.1
Content-Type: application/json
Content-Length: 88
Host: localhost:8080

{"password":"password1234","email":"auth+7c413bd7-7f9d-44dc-9287-5b42f7ebb754@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 353

{"accessToken":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmMzkxYjkwOC0xZTcxLTQzN2MtODk2Yi1jM2ZmZDIzODhlMWMiLCJlbWFpbCI6ImF1dGgrN2M0MTNiZDctN2Y5ZC00NGRjLTkyODctNWI0MmY3ZWJiNzU0QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.rXcvOo_a6c4j0nvgP2hGGHqxpUMEqPgEluo_9xDmYmE","refreshToken":"_E2MLiewYDFGl4wV4BE2h5utIP5-Wwr6bnoG2iv2vuU","tokenType":"Bearer"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_토큰_재발급refresh_bearer"><a class="anchor" href="#_토큰_재발급refresh_bearer"></a><a class="link" href="#_토큰_재발급refresh_bearer">3.2. 토큰 재발급(Refresh, Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh HTTP/1.1
Content-Type: application/json
Content-Length: 62
Host: localhost:8080

{"refreshToken":"Iqv9V8NNW_8FLQqLAgFyflSvRrr9YXGNlSwN2lR-Z2c"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 353

{"accessToken":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2MTg0NTI2OS0zNTMyLTRlNWMtOGRhMi01OTcxZDVhYjdkZjMiLCJlbWFpbCI6ImF1dGgrNzgwMGZiOGYtYjZhMy00NWZlLTg0MjUtMDlhMWRhNDI4MWIxQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgwLCJleHAiOjE3NzIzNDY2ODB9.C-WkOMzjpQRSuHcEt-CzJ3F0tfHuf-ihmgnCxOqv-nU","refreshToken":"5-yTYf4IMYbuFA27Mkn0PdTKx9SDJLMa37ThUsvCVMY","tokenType":"Bearer"}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_refresh_token_재사용401"><a class="anchor" href="#_실패_refresh_token_재사용401"></a><a class="link" href="#_실패_refresh_token_재사용401">3.2.1. 실패: Refresh Token 재사용(401)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh HTTP/1.1
Content-Type: application/json
Content-Length: 62
Host: localhost:8080

{"refreshToken":"hfHZLfuPStCqXp0gKp9IpreguxVUJkziIKjaC0iSNcc"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 401 Unauthorized
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 155

{"code":"AUTH_UNAUTHORIZED","message":"인증이 필요합니다.","timestamp":"2026-03-01T14:31:20.4261687","path":"/api/auth/refresh","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_전_기기_로그아웃_bearer"><a class="anchor" href="#_전_기기_로그아웃_bearer"></a><a class="link" href="#_전_기기_로그아웃_bearer">3.3. 전 기기 로그아웃 (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-all HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmMzJiZmUwNi01MTgyLTQ4NGMtYjk1OS0yNGU5YmRjMTE0ZWIiLCJlbWFpbCI6ImxvZ291dGFsbCszZmExN2E3Ni1lZjkxLTQwOGItYTQ5NC1kZTFkYzg1MjUxNmFAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODAsImV4cCI6MTc3MjM0NjY4MH0.SINTYNHIxp1MBmOm7uy5vBaNWUVyHk8Eos2PM9v2_G4
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 61

{"accessToken":null,"refreshToken":null,"tokenType":"Bearer"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_로그인_cookie"><a class="anchor" href="#_로그인_cookie"></a><a class="link" href="#_로그인_cookie">3.4. 로그인 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/login-cookie HTTP/1.1
Content-Type: application/json
Content-Length: 88
Host: localhost:8080

{"password":"password1234","email":"auth+30804ed5-5a1e-4336-8e5d-9def6adc3ec7@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1MWFiZjNiYi02Mzg0LTQ1ODYtYWM4ZS1jMWQxMWIzYjcyYzUiLCJlbWFpbCI6ImF1dGgrMzA4MDRlZDUtNWExZS00MzM2LThlNWQtOWRlZjZhZGMzZWM3QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.Eb_PxOXo6-OMFxaA6-YNQEnRerIOaebWIEDX-2YcIYo; Path=/; Max-Age=900; Expires=Sun, 1 Mar 2026 05:46:21 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=i6GWAbNfv5740B0Y0EaE6wKlsnMck_fd5d6xAMdpFDo; Path=/api/auth; Max-Age=1209600; Expires=Sun, 15 Mar 2026 05:31:21 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_토큰_재발급_cookie"><a class="anchor" href="#_토큰_재발급_cookie"></a><a class="link" href="#_토큰_재발급_cookie">3.5. 토큰 재발급 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh-cookie HTTP/1.1
Host: localhost:8080
Cookie: refresh_token=S7p4OwIVi10Kw43bU60isq13JAzj3l2oVKj6PlpsMbs
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1ZDRjNDE4Mi01N2UwLTQ4MTgtYWFlMi1kOGNiYjhiMTkxNTMiLCJlbWFpbCI6ImF1dGgrMDM2MzhlNjYtMjA0Ny00YzkxLTk4NWUtNzM4N2VmNDE1M2Y3QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.yO1GHyL0en7h6lZHHN-B2ZIQ0kepVfVszsIrC2YMmrA; Path=/; Max-Age=900; Expires=Sun, 1 Mar 2026 05:46:21 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=GVk79sUQehRDHnZTxlkbB_eCdf4FN9wRPWJqeUKBFn0; Path=/api/auth; Max-Age=1209600; Expires=Sun, 15 Mar 2026 05:31:21 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_로그아웃_cookie"><a class="anchor" href="#_로그아웃_cookie"></a><a class="link" href="#_로그아웃_cookie">3.6. 로그아웃 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-cookie HTTP/1.1
Host: localhost:8080
Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1MWFiZjNiYi02Mzg0LTQ1ODYtYWM4ZS1jMWQxMWIzYjcyYzUiLCJlbWFpbCI6ImF1dGgrMzA4MDRlZDUtNWExZS00MzM2LThlNWQtOWRlZjZhZGMzZWM3QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.Eb_PxOXo6-OMFxaA6-YNQEnRerIOaebWIEDX-2YcIYo; refresh_token=i6GWAbNfv5740B0Y0EaE6wKlsnMck_fd5d6xAMdpFDo
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=; Path=/; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=; Path=/api/auth; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_전_기기_로그아웃_cookie"><a class="anchor" href="#_전_기기_로그아웃_cookie"></a><a class="link" href="#_전_기기_로그아웃_cookie">3.7. 전 기기 로그아웃 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-all-cookie HTTP/1.1
Host: localhost:8080
Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlNjNhMjJiZC01ODVhLTQ1YzUtYTg5MS1lNGE5NTZlMWEyODAiLCJlbWFpbCI6ImF1dGgrNGZkYTk0ODYtMjY3OS00YTlhLWI5ZTQtMzRiMmQzZmFhNzJmQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgwLCJleHAiOjE3NzIzNDY2ODB9.DElpe7QOcvBO7LCX-mwMSsCeDBO0fkWk2e7avoRkfcU
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=; Path=/; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=; Path=/api/auth; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_users"><a class="anchor" href="#_2_users"></a><a class="link" href="#_2_users">4. 2. Users</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Users API 권장 흐름</strong>
- 회원가입 → 로그인(쿠키 권장)
- 사용자 검색은 Cursor Paging → 응답에 nextCursor가 있으면 다음 페이지 조회에 사용</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_회원가입"><a class="anchor" href="#_회원가입"></a><a class="link" href="#_회원가입">4.1. 회원가입</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 166
Host: localhost:8080

{
  "password" : "password1234",
  "name" : "테스트유저",
  "handle" : "user_50709557",
  "email" : "signup+66863380-4e09-452f-99ac-c44e3a7a3bee@test.com"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 184

{
  "id" : "99374dbd-5f31-461a-8129-995be41e23bc",
  "email" : "signup+66863380-4e09-452f-99ac-c44e3a7a3bee@test.com",
  "handle" : "user_50709557",
  "name" : "테스트유저"
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_400_validation"><a class="anchor" href="#_실패_400_validation"></a><a class="link" href="#_실패_400_validation">4.1.1. 실패: 400 Validation</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 73
Host: localhost:8080

{"password":"password1234","name":"시드유저","email":"seed@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 262

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:25.3920454",
  "path" : "/api/users",
  "fieldErrors" : [ {
    "field" : "handle",
    "reason" : "must not be blank"
  } ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_409_duplicate_email"><a class="anchor" href="#_실패_409_duplicate_email"></a><a class="link" href="#_실패_409_duplicate_email">4.1.2. 실패: 409 Duplicate Email</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 137
Host: localhost:8080

{"password":"password1234","name":"중복테스트2","handle":"dup_42a788b1","email":"dup+33d72e47-648c-4837-93fc-865db49b8c7b@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 409 Conflict
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 161

{"code":"USER_DUPLICATE_EMAIL","message":"이미 가입된 이메일입니다.","timestamp":"2026-03-01T14:31:25.4866654","path":"/api/users","fieldErrors":null}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_409_duplicate_handle"><a class="anchor" href="#_실패_409_duplicate_handle"></a><a class="link" href="#_실패_409_duplicate_handle">4.1.3. 실패: 409 Duplicate Handle</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 137
Host: localhost:8080

{"password":"password1234","name":"아이디중복2","handle":"same_84bab32d","email":"h2+7ee682fc-1470-4d7f-bdd0-96c8edb2f714@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 409 Conflict
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 166

{"code":"USER_DUPLICATE_HANDLE","message":"이미 사용 중인 아이디입니다.","timestamp":"2026-03-01T14:31:25.2352366","path":"/api/users","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_사용자_검색_cursor_paging"><a class="anchor" href="#_사용자_검색_cursor_paging"></a><a class="link" href="#_사용자_검색_cursor_paging">4.2. 사용자 검색 (Cursor Paging)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzZGNhYWVjNC1lMDc2LTQyMDEtODU2OS1lZjk0YWJlZDc2YWQiLCJlbWFpbCI6InNlYXJjaG1lK2Q4NTMyNDhmLTcwOTgtNDU4NC04ZTdmLWRlNWZkMWE0OWJhMkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NSwiZXhwIjoxNzcyMzQ2Njg1fQ.xH5r1edvc2iKQT4vkRbAmf5fYHOpJF7FAI_n5JSp8yc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 478

{
  "items" : [ {
    "userId" : "04d176c9-913d-428f-ba56-9fe838a9397c",
    "handle" : "kim",
    "name" : "김철수",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  }, {
    "userId" : "3dcfdd58-c397-4242-af0a-9ffe84a17b09",
    "handle" : "kimchi",
    "name" : "김치",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  } ],
  "nextCursor" : "0|0|kimchi|3dcfdd58-c397-4242-af0a-9ffe84a17b09",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_조회_예시"><a class="anchor" href="#_다음_페이지_조회_예시"></a><a class="link" href="#_다음_페이지_조회_예시">4.2.1. 다음 페이지 조회 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=2&amp;cursor=0%7C0%7Ckimchi%7C6de8a00f-cccc-406c-bf51-dfe692393cac HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2NmI4NTM1Yi0zZGU2LTRlMzktODljZC1hYWU4NmNlMDA3NmIiLCJlbWFpbCI6InNlYXJjaG1lKzNjNDgzNzVlLWFmZDQtNDY4Ni1hMDhiLTExYjA5Y2Q2MzIyZEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NSwiZXhwIjoxNzcyMzQ2Njg1fQ.ggqJXYy9Y8YlSm67MlHz_ejxTwKLwlVhMATOC26G43E
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 431

{
  "items" : [ {
    "userId" : "dfdc50df-e171-4200-a733-1456ea0636a2",
    "handle" : "xx",
    "name" : "kim영희",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  }, {
    "userId" : "e64f06db-74b6-4164-b7f7-56eacb356a64",
    "handle" : "akim",
    "name" : "아킴",
    "followerCount" : 0,
    "rank" : 1,
    "isFollowing" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_팔로잉_여부_포함_예시"><a class="anchor" href="#_팔로잉_여부_포함_예시"></a><a class="link" href="#_팔로잉_여부_포함_예시">4.2.2. 팔로잉 여부 포함 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0OWJmNDg4Yy01ZmEwLTQ2ZGEtOTc4MS05ZmRkYzY4Y2RhN2MiLCJlbWFpbCI6InNlYXJjaG1lKzlkN2U3YWU5LWMxMDItNDQyNi1hZGRhLTA1NTVhMmQ5MDc0MkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NSwiZXhwIjoxNzcyMzQ2Njg1fQ.7LT_PnO82BtQV_5fumwHT6sIO8Ehhb7xG0rPoWXJI4c
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 433

{
  "items" : [ {
    "userId" : "d39c669c-d9f5-4c91-8cbf-eafbd540f8e1",
    "handle" : "kim",
    "name" : "김철수",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : true
  }, {
    "userId" : "add4a32d-5053-4260-bd36-70d56b8afcad",
    "handle" : "kimchi",
    "name" : "김치",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_q_blank400"><a class="anchor" href="#_실패_q_blank400"></a><a class="link" href="#_실패_q_blank400">4.2.3. 실패: q blank(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=+++ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyY2FmOTZhNy1iZWJmLTRiY2MtYmRkMi1hMGE5MDlhYjg2NzAiLCJlbWFpbCI6InNlYXJjaG1lKzgzODJkNzZmLTBlYmEtNDRkMy04NTE2LTlkNzFkMDBiMjhiOUB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NSwiZXhwIjoxNzcyMzQ2Njg1fQ.fJISy5OAxikUODolUN5m4b7Yt7kR-PVyS8qCMiX0XI4
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 202

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:25.6298725",
  "path" : "/api/users/search",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_size_range400"><a class="anchor" href="#_실패_size_range400"></a><a class="link" href="#_실패_size_range400">4.2.4. 실패: size range(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=999 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3ZjZhYjA2My1kOTg1LTRmOGQtYmJmYy03ZjUyZTFmMTlmYmMiLCJlbWFpbCI6InNlYXJjaG1lKzViYjVhZDQ4LTVkMmMtNGVhZi1hZDFhLTE2MzMyZTMxYzQ5OEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NSwiZXhwIjoxNzcyMzQ2Njg1fQ.Sfaft6n6mw-xJFc5wxEZNy_rPm4T8oRJWrI2CfpOsDw
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 202

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:25.5177043",
  "path" : "/api/users/search",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_프로필_조회"><a class="anchor" href="#_프로필_조회"></a><a class="link" href="#_프로필_조회">4.3. 프로필 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/profile_67b82f16 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyNWRiZWJlZS1lZTBjLTRiYmItYTMzOC1iNTZmNjY1YmNmYzciLCJlbWFpbCI6InByb2ZpbGUrZDU1NzZlODUtZTM0ZS00OGFiLWFkZGEtZTcyMDc3NDk4ZTE1QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg1LCJleHAiOjE3NzIzNDY2ODV9.1z06KiYsXGk3RQ5fjUVfOGZhgkwNZT-bkCyy6qYQzYg
Accept: application/json
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 184

{"id":"25dbebee-ee0c-4bbb-a338-b56f665bcfc7","handle":"profile_67b82f16","name":"프로필유저","bio":null,"website":null,"profileImageUrl":null,"followerCount":0,"followingCount":0}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_me"><a class="anchor" href="#_3_me"></a><a class="link" href="#_3_me">5. 3. Me</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_내_정보_조회"><a class="anchor" href="#_내_정보_조회"></a><a class="link" href="#_내_정보_조회">5.1. 내 정보 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/me HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0OWNkNDdmOS03NTY5LTQ1Y2MtYmZlMC00NGM3N2E4YmU5YzMiLCJlbWFpbCI6Im1lKzk2OTdmNTViLTYwM2YtNGUyNC04OTIzLTM1NzU3MGJjOTFjOUB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MywiZXhwIjoxNzcyMzQ2NjgzfQ.f-Cjt__roGK8Nen5PllLr3-vCjliNv8O93J_Fn9crnQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 181

{"id":"49cd47f9-7569-45cc-bfe0-44c77a8be9c3","email":"me+9697f55b-603f-4e24-8923-357570bc91c9@test.com","handle":"me_41ddf737","name":"시드유저","followerCount":0,"tier":"NONE"}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_401_unauthorized"><a class="anchor" href="#_실패_401_unauthorized"></a><a class="link" href="#_실패_401_unauthorized">5.1.1. 실패: 401 Unauthorized</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/me HTTP/1.1
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 145

{"code":"AUTH_UNAUTHORIZED","message":"인증이 필요합니다.","timestamp":[2026,3,1,14,31,23,263640400],"path":"/api/me","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_내_프로필_수정"><a class="anchor" href="#_내_프로필_수정"></a><a class="link" href="#_내_프로필_수정">5.2. 내 프로필 수정</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">PATCH /api/me/profile HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0NTljMjZlOS0yZTc0LTRhMDctYWJlNy1mZWQ1NmU5MGE4NDEiLCJlbWFpbCI6Im1lcHJvZmlsZSsxZjdiZGNhZS1kNzI0LTQ3ZDQtOTk1Zi0wZDVmYTg1NTBhY2NAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.s_AsWAD4dQh9W6APLojorf8XOiHsDeSLuEio4e-dwsg
Content-Length: 103
Host: localhost:8080

{
  "website" : "https://example.com",
  "profileImageFileId" : null,
  "bio" : "안녕하세요"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 254

{
  "id" : "459c26e9-2e74-4a07-abe7-fed56e90a841",
  "handle" : "meprofile_6a4f00e8",
  "name" : "나",
  "bio" : "안녕하세요",
  "website" : "https://example.com",
  "profileImageUrl" : null,
  "followerCount" : 0,
  "followingCount" : 0
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_다른_유저_파일_사용403"><a class="anchor" href="#_실패_다른_유저_파일_사용403"></a><a class="link" href="#_실패_다른_유저_파일_사용403">5.2.1. 실패: 다른 유저 파일 사용(403)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">PATCH /api/me/profile HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlMjJkMTliMi1kYjc4LTQ2N2YtYTFjNC1hMTQzMWZmMDE1NGIiLCJlbWFpbCI6Im1lNDAzKzljMWNiNDM2LThiOTMtNDA4ZS04YWRhLTA2ZmE5OWQ3MGZlOUB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MywiZXhwIjoxNzcyMzQ2NjgzfQ.P2ZCB-1Pnw0JEAXiONMdjzNTN_KvwJGkGi9G3ZAi4sI
Content-Length: 131
Host: localhost:8080

{
  "website" : "https://hack.com",
  "profileImageFileId" : "336dd6ec-c379-4ae6-b6db-2dfbbb84bcc2",
  "bio" : "변경시도"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 403 Forbidden
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 179

{
  "code" : "AUTH_FORBIDDEN",
  "message" : "권한이 없습니다.",
  "timestamp" : "2026-03-01T14:31:23.1351204",
  "path" : "/api/me/profile",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_files"><a class="anchor" href="#_4_files"></a><a class="link" href="#_4_files">6. 4. Files</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>다운로드/썸네일은 ETag(304)를 활용하면 트래픽/로딩을 줄일 수 있습니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_파일_업로드"><a class="anchor" href="#_파일_업로드"></a><a class="link" href="#_파일_업로드">6.1. 파일 업로드</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/files HTTP/1.1
Content-Type: multipart/form-data; boundary=6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4NDI2YzhiZC03ZmUwLTRlOGItYTI3Ni1iYzMwNDUzYjA2YWMiLCJlbWFpbCI6ImZpbGVzK2EwNTgxMGY0LTMzMGItNDRmMC1iYzViLTZmOTM3OTFmYWMyOEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ.LKa-ikAOnHwbnUGSeRWmWaNa4F5rUH544pgr0P-T2kk
Accept: application/json
Host: localhost:8080

--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Content-Disposition: form-data; name=file; filename=cat.png
Content-Type: image/png

fake image bytes
--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm--</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 324

{
  "fileId" : "6de4dab1-d831-41c2-b181-2e323bc01d19",
  "url" : "http://localhost/api/files/6de4dab1-d831-41c2-b181-2e323bc01d19/download",
  "thumbnailUrl" : "http://localhost/api/files/6de4dab1-d831-41c2-b181-2e323bc01d19/thumbnail",
  "originalFilename" : "cat.png",
  "contentType" : "image/png",
  "size" : 16
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_파일_다운로드_브라우저_렌더링"><a class="anchor" href="#_파일_다운로드_브라우저_렌더링"></a><a class="link" href="#_파일_다운로드_브라우저_렌더링">6.2. 파일 다운로드 (브라우저 렌더링)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/b63b1162-3106-4ff4-9b1c-789fc35f2b25/download HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0MjkxODI5Yy03ZTYzLTQ2MTItOWIxZS1hMzg5YmY4N2M1NmIiLCJlbWFpbCI6ImZpbGVzKzFmZGYzZTI2LTk5NjQtNDVjZC1iNDMwLTBhYTUxNWEyZTAzOEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ._bymolCm_wRJBLPlZEngVbjL5EJau3s1QMwJY49oSsY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "c350304397edeb1fe5402da264aa90a0"
Cache-Control: max-age=31536000, public, immutable
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="hello.bin"
Accept-Ranges: bytes
Content-Length: 5
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY

hello</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_304_not_modified_etag"><a class="anchor" href="#_304_not_modified_etag"></a><a class="link" href="#_304_not_modified_etag">6.2.1. 304 Not Modified (ETag)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/b63b1162-3106-4ff4-9b1c-789fc35f2b25/download HTTP/1.1
If-None-Match: "c350304397edeb1fe5402da264aa90a0"
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0MjkxODI5Yy03ZTYzLTQ2MTItOWIxZS1hMzg5YmY4N2M1NmIiLCJlbWFpbCI6ImZpbGVzKzFmZGYzZTI2LTk5NjQtNDVjZC1iNDMwLTBhYTUxNWEyZTAzOEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ._bymolCm_wRJBLPlZEngVbjL5EJau3s1QMwJY49oSsY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 304 Not Modified
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "c350304397edeb1fe5402da264aa90a0"
Accept-Ranges: bytes
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_썸네일_조회"><a class="anchor" href="#_썸네일_조회"></a><a class="link" href="#_썸네일_조회">6.3. 썸네일 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/83da7316-cea0-44cf-b6a5-9fd5b63e5cf0/thumbnail HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZWE3ZjFiNy0xMTgwLTQ4ZmMtYmIwOS1iOTk1NWE5NzlkODYiLCJlbWFpbCI6InRodW1iKzg4ODNiZGE5LTkzYmEtNDE2Mi05M2NjLTk4OWIwMjA1Yjg1ZkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ.vMDradBs0wI-slnpFtH1EDqLpbEaHkWOCo4hLSyCjiw
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "502e95accd96ff9168d09e77b8be0387"
Cache-Control: max-age=31536000, public, immutable
Content-Type: image/jpeg
Content-Disposition: inline; filename="thumbnail-pic.jpg"
Accept-Ranges: bytes
Content-Length: 4
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY

	</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_304_not_modified_etag_2"><a class="anchor" href="#_304_not_modified_etag_2"></a><a class="link" href="#_304_not_modified_etag_2">6.3.1. 304 Not Modified (ETag)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/83da7316-cea0-44cf-b6a5-9fd5b63e5cf0/thumbnail HTTP/1.1
If-None-Match: "502e95accd96ff9168d09e77b8be0387"
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZWE3ZjFiNy0xMTgwLTQ4ZmMtYmIwOS1iOTk1NWE5NzlkODYiLCJlbWFpbCI6InRodW1iKzg4ODNiZGE5LTkzYmEtNDE2Mi05M2NjLTk4OWIwMjA1Yjg1ZkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ.vMDradBs0wI-slnpFtH1EDqLpbEaHkWOCo4hLSyCjiw
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 304 Not Modified
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "502e95accd96ff9168d09e77b8be0387"
Accept-Ranges: bytes
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_follows"><a class="anchor" href="#_5_follows"></a><a class="link" href="#_5_follows">7. 5. Follows</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_팔로우"><a class="anchor" href="#_팔로우"></a><a class="link" href="#_팔로우">7.1. 팔로우</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/follows/18d9d213-277e-4e21-bfb5-badd7f5b452f HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2ZDQ2YmU1NC1mYzY0LTRiN2UtYWFmYi1iZTVmYzI4OWYxNjciLCJlbWFpbCI6ImZvbGxvd21lKzI2NWEzOGYyLTQzYjAtNDFjZi04ODU5LTA3ZGE4YTliOWFkOEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MiwiZXhwIjoxNzcyMzQ2NjgyfQ.yn7Fg0AN4QQBEpX8o1aGog54HettfzCWES3-8lN4UGI
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_자기_자신_팔로우400"><a class="anchor" href="#_실패_자기_자신_팔로우400"></a><a class="link" href="#_실패_자기_자신_팔로우400">7.1.1. 실패: 자기 자신 팔로우(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/follows/3d76a0d6-c8cc-43a9-9260-6da040f5a3c9 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzZDc2YTBkNi1jOGNjLTQzYTktOTI2MC02ZGEwNDBmNWEzYzkiLCJlbWFpbCI6InNlbGYrM2QxNzg2MzgtOGNmMi00NzQwLWJiNTEtMTliMThkZGVhNTY2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgyLCJleHAiOjE3NzIzNDY2ODJ9.zI4P9jATzvvtV_4onk2IZO-mWnLXlDbda6vi_qgUH_Y
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 216

{"code":"FOLLOW_CANNOT_FOLLOW_SELF","message":"자기 자신을 팔로우할 수 없습니다.","timestamp":"2026-03-01T14:31:22.8176028","path":"/api/follows/3d76a0d6-c8cc-43a9-9260-6da040f5a3c9","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_언팔로우"><a class="anchor" href="#_언팔로우"></a><a class="link" href="#_언팔로우">7.2. 언팔로우</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/follows/85561329-3649-403c-b19d-6030807df98d HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3NDdjZjY3Yy05MmVmLTQxZjYtOGIxMy0wNGEyOWUxOWY4M2YiLCJlbWFpbCI6InVuZm9sbG93bWUrYTRkZmJiNDEtNGY5Mi00MDI2LWI4ZTQtMzQ3Y2UwMGM4MTczQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgyLCJleHAiOjE3NzIzNDY2ODJ9.EY9QA6YlvjUBYDDlGf1RH5Yh8OCFWNl89qa3NXQU06A
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_posts"><a class="anchor" href="#_6_posts"></a><a class="link" href="#_6_posts">8. 6. Posts</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>게시글에 파일이 포함된다면, 먼저 Files 업로드로 fileId 확보 후 Posts에서 참조하는 흐름을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_게시글_생성"><a class="anchor" href="#_게시글_생성"></a><a class="link" href="#_게시글_생성">8.1. 게시글 생성</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4Yzg5ZjEzYy03OGM5LTQ3OWUtODdkZS1jZjE0MzIxYjE5NjEiLCJlbWFpbCI6InBvc3QrNjlmZDEwMWQtOTI0OC00NTQ0LTlhYzEtZDg4Yzg4YzU4ZjM1QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.KZ4k97jqoJ02Gf3ib3fCdH68Hwjl58_6BUuf1O8pT74
Content-Length: 217
Host: localhost:8080

{
  "imageFileIds" : [ "7a03cfdc-b1c9-4084-a57d-33ad05c0bf22" ],
  "visibility" : "FOLLOWERS",
  "imageUrls" : [ "https://example.com/legacy-image.jpg" ],
  "content" : "팔로워에게만 공유합니다 🙂"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 331

{
  "postId" : "2d6061e9-56c0-4bab-8483-646f4a2dced7",
  "authorId" : "8c89f13c-78c9-479e-87de-cf14321b1961",
  "content" : "팔로워에게만 공유합니다 🙂",
  "imageUrls" : [ "/api/files/7a03cfdc-b1c9-4084-a57d-33ad05c0bf22/download" ],
  "visibility" : "FOLLOWERS",
  "createdAt" : "2026-03-01T14:31:24.8951821"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_게시글_단건_조회"><a class="anchor" href="#_게시글_단건_조회"></a><a class="link" href="#_게시글_단건_조회">8.2. 게시글 단건 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/a3f92868-b0f1-47c5-8265-afd533ac80ea HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4MzQzNzZjMy0wM2Q1LTQ4YTUtOWQwYi03NTZjYjdkYzE3ZWYiLCJlbWFpbCI6ImRldGFpbCtlNTE0ZjA0Yy03NzM1LTQzZGEtOTM1NS1lMDFlYWU1M2ZhYWVAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODQsImV4cCI6MTc3MjM0NjY4NH0.bp0XLcO07PPkvvyWO3-0fCTsTWNlYp_p2ZrZkY4CYmA
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 288

{
  "postId" : "a3f92868-b0f1-47c5-8265-afd533ac80ea",
  "authorId" : "834376c3-03d5-48a5-9d0b-756cb7dc17ef",
  "content" : "상세조회 테스트",
  "imageUrls" : [ "https://example.com/image1.jpg" ],
  "visibility" : "FOLLOWERS",
  "createdAt" : "2026-03-01T14:31:24.9724489"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_게시글_삭제"><a class="anchor" href="#_게시글_삭제"></a><a class="link" href="#_게시글_삭제">8.3. 게시글 삭제</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/posts/20ec8f53-7668-4331-ab83-6b4b2c0ae31c HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmMGMwNzkzMy0wYThkLTRhMzctYTNlNC1kYzI4YjYxZjhhMGYiLCJlbWFpbCI6ImRlbCs3OWFjOTg0Ny1jYzU1LTRmY2ItOWNlNC0yMjkzMDBjMTlkN2RAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODQsImV4cCI6MTc3MjM0NjY4NH0.pyZTS-Hqzb8tk0kiT6pjBZ5XboqoJZR2TLXscnDQUS4
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_post_likes"><a class="anchor" href="#_7_post_likes"></a><a class="link" href="#_7_post_likes">9. 7. Post Likes</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_좋아요"><a class="anchor" href="#_좋아요"></a><a class="link" href="#_좋아요">9.1. 좋아요</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/41935aba-de18-4d9b-b1e2-443225451f4d/likes HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2MDM0MjNkMy04Zjk2LTRiNGQtYmUxNS1mY2E1NjdlZmI1OTUiLCJlbWFpbCI6Imxpa2UrZGUyYTcwNGYtNjFjYS00MjE2LTlkN2MtZjRiYWQ5OWQ0NGY2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgzLCJleHAiOjE3NzIzNDY2ODN9.Gkd_2-1R5jkEo0_LujvhT4l_OOuSTb5SwH8_lTHA-ss
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_좋아요_취소"><a class="anchor" href="#_좋아요_취소"></a><a class="link" href="#_좋아요_취소">9.2. 좋아요 취소</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/posts/0c23561d-a3bc-4fe7-a3c5-7db0c780e183/likes HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1YmQxYTVmYS1hYzNiLTQxZGQtYjgwMy05YWJkMTYxMzk5OTYiLCJlbWFpbCI6InVubGlrZSs2YjcyM2I1OC1jMTU0LTQ0Y2EtYTQyNC03NThiNzUyYThlY2JAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODIsImV4cCI6MTc3MjM0NjY4Mn0.eidxw_yKSsyYxaAVZpBtB6O2cuhbsBUtBOE4xRNG-1w
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_8_comments"><a class="anchor" href="#_8_comments"></a><a class="link" href="#_8_comments">10. 8. Comments</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_댓글_생성201"><a class="anchor" href="#_댓글_생성201"></a><a class="link" href="#_댓글_생성201">10.1. 댓글 생성(201)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/4e7c61bb-0553-4e92-9f7b-0929b838fa8a/comments HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3MmU4NmQ5NS1jZGZhLTRjMTItOTEyYy1mNGE5MDdhMzIxYjgiLCJlbWFpbCI6ImNvbW1lbnRlcitmM2RiYzEzZi1hMWI3LTQwYmEtOGUyNS1jMGRlMzRmM2MxNzlAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODIsImV4cCI6MTc3MjM0NjY4Mn0.KY1n-QICwdoU_yqqzoMrCdiBeu-IGbjRF8C5TxN8XqU
Content-Length: 27
Host: localhost:8080

{
  "content" : "nice!"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Location: /api/comments/6e40e1e5-a2b7-43c9-91c0-cff86620c882
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 240

{
  "commentId" : "6e40e1e5-a2b7-43c9-91c0-cff86620c882",
  "postId" : "4e7c61bb-0553-4e92-9f7b-0929b838fa8a",
  "userId" : "72e86d95-cdfa-4c12-912c-f4a907a321b8",
  "content" : "nice!",
  "createdAt" : "2026-03-01T14:31:22.0119868"
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_내용_비어있음400"><a class="anchor" href="#_실패_내용_비어있음400"></a><a class="link" href="#_실패_내용_비어있음400">10.1.1. 실패: 내용 비어있음(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/49ce0102-deaa-4d23-b3bc-8de104fb8d21/comments HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1NjA3MmQwOS0yZjFlLTQxOTMtYjQ1Yy1lNWFiNmM5OWYwMmMiLCJlbWFpbCI6ImNvbW1lbnRlcjIrOTYzMTE5MjYtNzVkZi00YTMyLWIzZDgtZWM0NzAxYTZiMzlhQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.mvjLuqBqhtbYT6DjxoCEB2LXvyu6_9LQVxGVtkdeVhY
Content-Length: 25
Host: localhost:8080

{
  "content" : "   "
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 309

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:21.8046219",
  "path" : "/api/posts/49ce0102-deaa-4d23-b3bc-8de104fb8d21/comments",
  "fieldErrors" : [ {
    "field" : "content",
    "reason" : "must not be blank"
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_댓글_목록200"><a class="anchor" href="#_댓글_목록200"></a><a class="link" href="#_댓글_목록200">10.2. 댓글 목록(200)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/17e99210-399f-41cd-b56d-ccd16fd90fd9/comments?size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1YWU4MmU4Ny05ZDg2LTQwYmMtOTc3Yy00MTRkOWNjYzM4YmMiLCJlbWFpbCI6InJlYWRlciswMzIwYjRmYS1mNjNlLTQzNDctOTNlNC1kOTZlODM4NmUwY2FAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODEsImV4cCI6MTc3MjM0NjY4MX0.wVjN4xh2i-rIaDMIlfHLX5OPVJKYSu-Cft8D4YMVRgc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 330

{
  "items" : [ {
    "commentId" : "f3e364b4-c483-40d0-a802-c6238ca06084",
    "userId" : "5ae82e87-9d86-40bc-977c-414d9ccc38bc",
    "handle" : "reader_2e8fbfab",
    "name" : "리더",
    "content" : "first comment",
    "createdAt" : "2026-03-01T14:31:21.593458"
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시"><a class="anchor" href="#_다음_페이지_예시"></a><a class="link" href="#_다음_페이지_예시">10.2.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/a5dacd9f-c46f-4949-970f-5cf3d8f75e79/comments?size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzYjEzNWRjOS1kNTBiLTRhNjQtOGJlZS1hYWM2ZjMzZTFlNDkiLCJlbWFpbCI6InJlYWRlck5leHQrNWNiMDdkMTAtODFhNS00YmM5LTgwYTgtOGYwNDhjODlkMDRlQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.UDEZUbS3HxFG82Fl7dayQ-hDE2dhssXArB2pFP0clSY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 411

{
  "items" : [ {
    "commentId" : "b414fb3e-5536-4a6f-a82c-cd661c407808",
    "userId" : "3b135dc9-d50b-4a64-8bee-aac6f33e1e49",
    "handle" : "readerNext_7204862a",
    "name" : "리더",
    "content" : "comment 2",
    "createdAt" : "2026-03-01T14:31:21.906463"
  } ],
  "nextCursor" : "MjAyNi0wMy0wMVQxNDozMToyMS45MDY0NjN8YjQxNGZiM2UtNTUzNi00YTZmLWE4MmMtY2Q2NjFjNDA3ODA4",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_followup_예시"><a class="anchor" href="#_다음_페이지_followup_예시"></a><a class="link" href="#_다음_페이지_followup_예시">10.2.2. 다음 페이지 followup 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/a5dacd9f-c46f-4949-970f-5cf3d8f75e79/comments?cursor=MjAyNi0wMy0wMVQxNDozMToyMS45MDY0NjN8YjQxNGZiM2UtNTUzNi00YTZmLWE4MmMtY2Q2NjFjNDA3ODA4&amp;size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzYjEzNWRjOS1kNTBiLTRhNjQtOGJlZS1hYWM2ZjMzZTFlNDkiLCJlbWFpbCI6InJlYWRlck5leHQrNWNiMDdkMTAtODFhNS00YmM5LTgwYTgtOGYwNDhjODlkMDRlQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.UDEZUbS3HxFG82Fl7dayQ-hDE2dhssXArB2pFP0clSY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 330

{
  "items" : [ {
    "commentId" : "4d340484-0c0d-4870-9d43-1ab2d517ffb4",
    "userId" : "3b135dc9-d50b-4a64-8bee-aac6f33e1e49",
    "handle" : "readerNext_7204862a",
    "name" : "리더",
    "content" : "comment 1",
    "createdAt" : "2026-03-01T14:31:21.904461"
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_invalid_cursor400"><a class="anchor" href="#_실패_invalid_cursor400"></a><a class="link" href="#_실패_invalid_cursor400">10.2.3. 실패: invalid cursor(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/4ca0b703-d5ce-4fc2-a929-3ce67e068744/comments?cursor=%25%25%25invalid%25%25%25&amp;size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmNjc4YmZkZC0yMWNiLTQzNDUtYjM0Zi1hNDNhYmIwYWMzYzciLCJlbWFpbCI6ImJhZEN1cnNvcitiMmY2OWM1NC1iNTZiLTQ4OTctYTNhNC1jNDFlNmI3NzNlNzNAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODEsImV4cCI6MTc3MjM0NjY4MX0.cV6aFLYgD6ovPj3mA5ki9EfJH4mBDBpRXLUJKsm9A7g
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 241

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:21.8651762",
  "path" : "/api/posts/4ca0b703-d5ce-4fc2-a929-3ce67e068744/comments",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_댓글_삭제204"><a class="anchor" href="#_댓글_삭제204"></a><a class="link" href="#_댓글_삭제204">10.3. 댓글 삭제(204)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/comments/1b4fd270-e3a0-492c-98c4-4995921e408a HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZjg2Y2IxOS0xZTYyLTQ2MDMtYTNlZi02NWRlZTdhNzhlNTEiLCJlbWFpbCI6ImRlbGV0ZXIrM2U5NDA2MzUtNTczMi00OWVhLWIxY2UtOWY5MjhkMjRkYzRhQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgyLCJleHAiOjE3NzIzNDY2ODJ9.I9_QNLJzPaWhfLbJJk8wZGNp3bA7wAFsPvx_vn4kyZE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_invalid_uuid400"><a class="anchor" href="#_실패_invalid_uuid400"></a><a class="link" href="#_실패_invalid_uuid400">10.3.1. 실패: invalid uuid(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/comments/1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3OWY3NWQ0ZC1hYjE4LTRjYjItYWFlNC0zNjIzYzc5MWNhNjMiLCJlbWFpbCI6ImRlbGV0ZXJCYWQrY2NjYjM4MzItNGE3Yy00Y2FkLWFhYjctZjg2MWY0NzBmZTFkQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgxLCJleHAiOjE3NzIzNDY2ODF9.i9FFAvLg6hbLLiD0SorxHfF-sFZljxAMmJebixJgO_w
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 200

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-03-01T14:31:21.7366303",
  "path" : "/api/comments/1",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_9_feed"><a class="anchor" href="#_9_feed"></a><a class="link" href="#_9_feed">11. 9. Feed</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_피드_조회"><a class="anchor" href="#_피드_조회"></a><a class="link" href="#_피드_조회">11.1. 피드 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/feed?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyZDcyMjY5YS0xYjYxLTRkNzYtOWU1YS1jMjc2YTI0NjQ4NWEiLCJlbWFpbCI6ImZlZWRtZSs0MmU5YTcxYS1jOGUzLTQ4OTEtYjliYi0wNTM0N2M5MjhlOGRAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODIsImV4cCI6MTc3MjM0NjY4Mn0.wsijrO2VlNqnbv44w98oN6BuOqTuQOMVyvOOZp24Saw
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 953

{
  "items" : [ {
    "postId" : "c6647b86-2448-4110-8372-7509111da6b4",
    "authorId" : "181e7600-f882-4748-b8f1-6236b31ea0a8",
    "authorHandle" : "feedtarget_0735a200",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 3",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-03-01T14:31:22.3658968",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  }, {
    "postId" : "434adbf1-8a85-447f-be0f-cd11e63c02fc",
    "authorId" : "181e7600-f882-4748-b8f1-6236b31ea0a8",
    "authorHandle" : "feedtarget_0735a200",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 2",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-03-01T14:31:22.3648965",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  } ],
  "nextCursor" : "2026-03-01T14:31:22.364896500|434adbf1-8a85-447f-be0f-cd11e63c02fc",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_2"><a class="anchor" href="#_다음_페이지_예시_2"></a><a class="link" href="#_다음_페이지_예시_2">11.1.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/feed?size=2&amp;cursor=2026-03-01T14%3A31%3A22.134288200%7Ca3fbae73-22ce-43c9-a7ff-67bd278606f1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNjFlOWIzMC01ODY5LTQwMWItODU3YS0zYmFmNmU0MmNjZDAiLCJlbWFpbCI6ImZlZWRtZSs4M2EwNmRiMC00NDliLTRjMTUtODUzMS00ZGFmOGNlYjY3YThAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODIsImV4cCI6MTc3MjM0NjY4Mn0.gsck5VObbO0URLeOPNVUQDyaWVT3n6Cs8aN5vHbQ6nE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 889

{
  "items" : [ {
    "postId" : "a3fbae73-22ce-43c9-a7ff-67bd278606f1",
    "authorId" : "9473ffbd-3024-438e-8f03-41e41498ff30",
    "authorHandle" : "feedtarget_a82feb87",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 2",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-03-01T14:31:22.1342882",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  }, {
    "postId" : "a44f5c89-1f25-46bc-9588-d8d2b4d5f700",
    "authorId" : "9473ffbd-3024-438e-8f03-41e41498ff30",
    "authorHandle" : "feedtarget_a82feb87",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 1",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-03-01T14:31:22.132289",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_10_conversations_messages"><a class="anchor" href="#_10_conversations_messages"></a><a class="link" href="#_10_conversations_messages">12. 10. Conversations &amp; Messages</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>권장 사용 흐름
- 대화방 생성/조회 → 목록 조회
- 메시지 조회/전송
- 실시간 갱신은 SSE 이벤트 수신 후 필요한 API만 재조회하는 방식 권장</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_대화방_생성조회direct"><a class="anchor" href="#_대화방_생성조회direct"></a><a class="link" href="#_대화방_생성조회direct">12.1. 대화방 생성/조회(DIRECT)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/direct HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzNGMxNjM3MS0yOWVkLTQxYTktYWNlNi0yNGNhMWIzNmM4YTEiLCJlbWFpbCI6ImRtLWNyZWF0ZStkNWI2ZTJiMy00NmZjLTQ2MzAtYWQyYS02YTIzOWVmMWZmZDBAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.iaGa1PC1U8o0aBQwbCVfeEmqpN7l6wLyG2hmXVq38Vg
Content-Length: 63
Host: localhost:8080

{
  "targetUserId" : "7cf523fe-bd09-400b-afa6-719a9ad32b4c"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 65

{
  "conversationId" : "756736aa-2a95-4938-9f51-661fa4d8c003"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_대화방_목록"><a class="anchor" href="#_대화방_목록"></a><a class="link" href="#_대화방_목록">12.2. 대화방 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzM2ZmOGZkZi1lYzA2LTQ0ZjgtYmUwNS1kYTQ3ZmVhYTU1NGYiLCJlbWFpbCI6ImRtK2ZiZDUxZmE1LTI1MDEtNDBjYS1iMWQ0LTY5NTEyZjgwNzUxMEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4MywiZXhwIjoxNzcyMzQ2NjgzfQ.a-BR0-6YynQ878rSvTw5Ui762L5BWp6_4VR2YUrWOh8
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 401

{
  "items" : [ {
    "conversationId" : "54e714b8-5f40-417b-b6e1-2a8711520d5c",
    "peerUser" : {
      "userId" : "e00db89a-823e-48a2-98c4-0cfe7906aa22",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello dm",
    "lastMessageAt" : "2026-03-01T14:31:23.36116",
    "unreadCount" : 1
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_3"><a class="anchor" href="#_다음_페이지_예시_3"></a><a class="link" href="#_다음_페이지_예시_3">12.2.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlMzJmMWFiZi0wMDBkLTRkMmItOTE2MC01NGQxMDdkM2ViYTMiLCJlbWFpbCI6ImRtTmV4dEErMDE1YzFkZTktMDJmYS00ODNiLWEyMmQtZDgwYmZkMzNjZTJhQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgzLCJleHAiOjE3NzIzNDY2ODN9.EK5wrmSa9jxPqbZ_LHpXzN41ksW1zi2E_S6YHNkoByE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 449

{
  "items" : [ {
    "conversationId" : "4debb86d-725e-417f-915f-907f002a5919",
    "peerUser" : {
      "userId" : "ae17ac5e-fac2-4fdb-9a71-aa6e1529ff81",
      "nickname" : "상대3",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello 3",
    "lastMessageAt" : "2026-03-01T14:31:23.480162",
    "unreadCount" : 1
  } ],
  "nextCursor" : "1772343083480_4debb86d-725e-417f-915f-907f002a5919",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_followup_예시_2"><a class="anchor" href="#_다음_페이지_followup_예시_2"></a><a class="link" href="#_다음_페이지_followup_예시_2">12.2.2. 다음 페이지 followup 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?cursor=1772343083480_4debb86d-725e-417f-915f-907f002a5919&amp;size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlMzJmMWFiZi0wMDBkLTRkMmItOTE2MC01NGQxMDdkM2ViYTMiLCJlbWFpbCI6ImRtTmV4dEErMDE1YzFkZTktMDJmYS00ODNiLWEyMmQtZDgwYmZkMzNjZTJhQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDgzLCJleHAiOjE3NzIzNDY2ODN9.EK5wrmSa9jxPqbZ_LHpXzN41ksW1zi2E_S6YHNkoByE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 449

{
  "items" : [ {
    "conversationId" : "2ffc6ad7-2dc3-4ea9-80a3-3675b523d26b",
    "peerUser" : {
      "userId" : "1949d554-10c6-42e2-b19a-39333bb162f9",
      "nickname" : "상대2",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello 2",
    "lastMessageAt" : "2026-03-01T14:31:23.470159",
    "unreadCount" : 1
  } ],
  "nextCursor" : "1772343083470_2ffc6ad7-2dc3-4ea9-80a3-3675b523d26b",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_대화_읽음_처리read"><a class="anchor" href="#_대화_읽음_처리read"></a><a class="link" href="#_대화_읽음_처리read">12.3. 대화 읽음 처리(READ)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/e64b9db7-12a7-4a30-a428-6d54e455d718/read HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZjk0MjcxMy04NmMyLTRjMDYtOGRiYS05ODU2NGVlZGUxMzkiLCJlbWFpbCI6ImRtUmVhZCszZWQ0ZDYxZi0yOTMyLTRmOTctYTAyOC00OWVjOGFmN2ZkMTFAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.lU_mthP79wcteMowdnDBKX6uGDtawYmukBdKzs5W_FQ
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_before"><a class="anchor" href="#_안_읽은_메시지_before"></a><a class="link" href="#_안_읽은_메시지_before">12.4. 안 읽은 메시지: before</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZjk0MjcxMy04NmMyLTRjMDYtOGRiYS05ODU2NGVlZGUxMzkiLCJlbWFpbCI6ImRtUmVhZCszZWQ0ZDYxZi0yOTMyLTRmOTctYTAyOC00OWVjOGFmN2ZkMTFAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.lU_mthP79wcteMowdnDBKX6uGDtawYmukBdKzs5W_FQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 398

{
  "items" : [ {
    "conversationId" : "e64b9db7-12a7-4a30-a428-6d54e455d718",
    "peerUser" : {
      "userId" : "277a9c4d-1459-4cdf-b98b-6eb8ab5a3b59",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "msg2",
    "lastMessageAt" : "2026-03-01T14:31:23.807398",
    "unreadCount" : 2
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_before_messages_get"><a class="anchor" href="#_안_읽은_메시지_before_messages_get"></a><a class="link" href="#_안_읽은_메시지_before_messages_get">12.5. 안 읽은 메시지: before (messages get)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2ZmEwZGFlNS0yODMxLTRlMjctOTg3Yi1hYWMxZTQ4ZjI3NTkiLCJlbWFpbCI6InJlYWRPbkxpc3QrMzg1OWU5ZWItYTJkMy00NDBjLWIzNTctOTNlZDQ5NmM1YmM2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.eg5b-Lt76qNKMUg7fpSkDUEi506QWMzBcq63a9aqn0k
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 395

{
  "items" : [ {
    "conversationId" : "d4e90c43-37d8-43e0-9c9d-23cd4ac9a31d",
    "peerUser" : {
      "userId" : "af2b2947-bfe4-400a-bb6b-a357b97a3e7d",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "m2",
    "lastMessageAt" : "2026-03-01T14:31:24.31291",
    "unreadCount" : 2
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_after"><a class="anchor" href="#_안_읽은_메시지_after"></a><a class="link" href="#_안_읽은_메시지_after">12.6. 안 읽은 메시지: after</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZjk0MjcxMy04NmMyLTRjMDYtOGRiYS05ODU2NGVlZGUxMzkiLCJlbWFpbCI6ImRtUmVhZCszZWQ0ZDYxZi0yOTMyLTRmOTctYTAyOC00OWVjOGFmN2ZkMTFAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.lU_mthP79wcteMowdnDBKX6uGDtawYmukBdKzs5W_FQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 398

{
  "items" : [ {
    "conversationId" : "e64b9db7-12a7-4a30-a428-6d54e455d718",
    "peerUser" : {
      "userId" : "277a9c4d-1459-4cdf-b98b-6eb8ab5a3b59",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "msg2",
    "lastMessageAt" : "2026-03-01T14:31:23.807398",
    "unreadCount" : 0
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_after_messages_get"><a class="anchor" href="#_안_읽은_메시지_after_messages_get"></a><a class="link" href="#_안_읽은_메시지_after_messages_get">12.7. 안 읽은 메시지: after (messages get)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2ZmEwZGFlNS0yODMxLTRlMjctOTg3Yi1hYWMxZTQ4ZjI3NTkiLCJlbWFpbCI6InJlYWRPbkxpc3QrMzg1OWU5ZWItYTJkMy00NDBjLWIzNTctOTNlZDQ5NmM1YmM2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.eg5b-Lt76qNKMUg7fpSkDUEi506QWMzBcq63a9aqn0k
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 395

{
  "items" : [ {
    "conversationId" : "d4e90c43-37d8-43e0-9c9d-23cd4ac9a31d",
    "peerUser" : {
      "userId" : "af2b2947-bfe4-400a-bb6b-a357b97a3e7d",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "m2",
    "lastMessageAt" : "2026-03-01T14:31:24.31291",
    "unreadCount" : 0
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_전송"><a class="anchor" href="#_메시지_전송"></a><a class="link" href="#_메시지_전송">12.8. 메시지 전송</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/9a38cdd8-c184-4689-9d9a-cfed6248ec10/messages HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwNTFlZDA5ZS1kYTI5LTQ4YzMtOGI4NC02ZDliYmUzMDEzMjkiLCJlbWFpbCI6InNlbmRtZStjMDY4ODQ0MC03YmVlLTRmNTgtOGQ1Mi0wMmE4NmExNDYyMDBAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.AtRNpaJilpuyQZhMZ_zhUNEbNPXVdNybrS6ZscOW4Qc
Content-Length: 67
Host: localhost:8080

{
  "content" : "안녕! (REST Docs)",
  "attachmentIds" : [ ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 314

{
  "messageId" : "1208335c-51c1-419e-8a58-50b91c64dceb",
  "conversationId" : "9a38cdd8-c184-4689-9d9a-cfed6248ec10",
  "senderId" : "051ed09e-da29-48c3-8b84-6d9bbe301329",
  "content" : "안녕! (REST Docs)",
  "attachments" : [ ],
  "pinCandidates" : [ ],
  "createdAt" : "2026-03-01T14:31:23.9679123"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_목록"><a class="anchor" href="#_메시지_목록"></a><a class="link" href="#_메시지_목록">12.9. 메시지 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/c8aa11fe-364e-47dc-a422-ee7097b6f684/messages?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlZDE5ZWUwZC00MWZlLTQ2NGMtYjY1Mi04MGIzOGU1YTJiMDIiLCJlbWFpbCI6Im1zZ21lKzA0NWM2NDRmLTY3YjgtNGU4OC05NWM1LTE3YTBmMDY1NDE1OEB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NCwiZXhwIjoxNzcyMzQ2Njg0fQ.dsJcMRafKYds3dU62870YmOdTlJFXAoCXfoMb0zMKcY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 648

{
  "items" : [ {
    "messageId" : "b5330442-d2cc-49e7-83f2-e3ed95e01571",
    "senderId" : "ed19ee0d-41fe-464c-b652-80b38e5a2b02",
    "content" : "메시지 3",
    "createdAt" : "2026-03-01T14:31:24.125912",
    "attachments" : [ ],
    "pinCandidates" : [ ]
  }, {
    "messageId" : "7191262d-d6f3-4082-9f9f-0459d7dc0c7a",
    "senderId" : "ed19ee0d-41fe-464c-b652-80b38e5a2b02",
    "content" : "메시지 2",
    "createdAt" : "2026-03-01T14:31:24.1209116",
    "attachments" : [ ],
    "pinCandidates" : [ ]
  } ],
  "nextCursor" : "2026-03-01T14:31:24.120911600|7191262d-d6f3-4082-9f9f-0459d7dc0c7a",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_4"><a class="anchor" href="#_다음_페이지_예시_4"></a><a class="link" href="#_다음_페이지_예시_4">12.9.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/2dc090d8-8ac7-4d28-a1c2-d03bbeb06dbc/messages?size=2&amp;cursor=2026-03-01T14%3A31%3A24.215913800%7C97453bd8-d56e-4c29-a051-441b8bed5401 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzZTBkNTAyZS1jNTM5LTQ2MzItODA2Mi0wODUwNzA3MWNkMzYiLCJlbWFpbCI6Im1zZ21lK2NjZmZmYTRjLWQ3M2ItNGJlNC1hMzE1LWEyMTU2MzUzMDViY0B0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NCwiZXhwIjoxNzcyMzQ2Njg0fQ.samngb2Jgwye-0rBFV5kgP2tLc25pR1PsvcN_fs_wQc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 325

{
  "items" : [ {
    "messageId" : "49ab1337-0f42-498d-bb3f-639b9cd06dad",
    "senderId" : "3e0d502e-c539-4632-8062-08507071cd36",
    "content" : "메시지 1",
    "createdAt" : "2026-03-01T14:31:24.211912",
    "attachments" : [ ],
    "pinCandidates" : [ ]
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_자동_읽음_처리_예시"><a class="anchor" href="#_자동_읽음_처리_예시"></a><a class="link" href="#_자동_읽음_처리_예시">12.9.2. 자동 읽음 처리 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/d4e90c43-37d8-43e0-9c9d-23cd4ac9a31d/messages?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2ZmEwZGFlNS0yODMxLTRlMjctOTg3Yi1hYWMxZTQ4ZjI3NTkiLCJlbWFpbCI6InJlYWRPbkxpc3QrMzg1OWU5ZWItYTJkMy00NDBjLWIzNTctOTNlZDQ5NmM1YmM2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.eg5b-Lt76qNKMUg7fpSkDUEi506QWMzBcq63a9aqn0k
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 568

{
  "items" : [ {
    "messageId" : "e4e78c8c-38c5-4f8b-a21e-1904edc8d9c9",
    "senderId" : "af2b2947-bfe4-400a-bb6b-a357b97a3e7d",
    "content" : "m1",
    "createdAt" : "2026-03-01T14:31:24.3129099",
    "attachments" : [ ],
    "pinCandidates" : [ ]
  }, {
    "messageId" : "4824eddb-6a1b-4f80-af59-de7c416ab763",
    "senderId" : "af2b2947-bfe4-400a-bb6b-a357b97a3e7d",
    "content" : "m2",
    "createdAt" : "2026-03-01T14:31:24.3129099",
    "attachments" : [ ],
    "pinCandidates" : [ ]
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_대화방_없음404"><a class="anchor" href="#_실패_대화방_없음404"></a><a class="link" href="#_실패_대화방_없음404">12.9.3. 실패: 대화방 없음(404)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/3a7d058e-2e44-40d0-b658-d49e0f03141e/messages?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwYjE1MTMxZS0zNWMzLTQ4MTktODE2ZC0wNmQ0NGY4NDdlMzAiLCJlbWFpbCI6Im5vQ29uditiYWZmOTlkNi04MzNhLTQ4NTMtYmM0MS1mM2I1ZGFiODM3ODNAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.XzrTPg33jwMX63WxQYES9CSk5Wm_ZgB_N3-V3nPEN3w
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 404 Not Found
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 258

{
  "code" : "MESSAGE_CONVERSATION_NOT_FOUND",
  "message" : "대화방을 찾을 수 없습니다.",
  "timestamp" : "2026-03-01T14:31:23.9073969",
  "path" : "/api/conversations/3a7d058e-2e44-40d0-b658-d49e0f03141e/messages",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_숨김"><a class="anchor" href="#_메시지_숨김"></a><a class="link" href="#_메시지_숨김">12.10. 메시지 숨김</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/messages/5f1c9127-b555-46bb-8506-2ec5f91a0c8c/hide HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1ZDNkZGRiOS0zNTVmLTRmZTItYTYzMS00MmJjZTg4MDk4NTciLCJlbWFpbCI6ImhpZGUrZmI0YTUxZTUtMGY2MS00M2Q2LWJlMzAtODI5YmEzOTNlMTRlQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.-pZ00fn2RjZpl6X9iUlz1VKBGc6Swgpp0FnlHYcmPoc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_삭제모두에게"><a class="anchor" href="#_메시지_삭제모두에게"></a><a class="link" href="#_메시지_삭제모두에게">12.11. 메시지 삭제(모두에게)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/messages/84eb80cd-2499-4763-aaca-f71048d0569e/delete-for-all HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwYmU4NWIzMy0xOGU1LTRhNTYtOWJmMS1jOTlkNzkyZjFjYzgiLCJlbWFpbCI6ImRlbCsyNDE0MWI0NC0yMmQ1LTRkODQtYWE3NC1kYTcyYmYwZjRhZmJAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODQsImV4cCI6MTc3MjM0NjY4NH0.gmnUj9nVHm4KBgGYKHTEiqsKYR3j2a44FGL7ufCfBI8
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_대화_핀_목록active"><a class="anchor" href="#_대화_핀_목록active"></a><a class="link" href="#_대화_핀_목록active">12.12. 대화 핀 목록(ACTIVE)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/ed07dd64-e4ea-4bc4-b60f-d3cf786cb626/pins?size=10 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4ZWIzNjY4ZS05YTU3LTRiZTQtYTYxYy0yZTc4YThjZDIzYjEiLCJlbWFpbCI6InBpbiszYTUzN2RhZS1kYjczLTQ3Y2EtOTkxNy04OWNmNTc4YTg2MjZAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODMsImV4cCI6MTc3MjM0NjY4M30.1znBRpMUgpLROoYvzPSKRmFey8Dk0cqkTUjCVyIgMcM
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 402

[ {
  "pinId" : "2499c5a2-c4d7-45ca-a1a0-203b6b8470c6",
  "conversationId" : "ed07dd64-e4ea-4bc4-b60f-d3cf786cb626",
  "createdBy" : "8eb3668e-9a57-4be4-a61c-2e78a8cd23b1",
  "type" : "SCHEDULE",
  "title" : "약속",
  "placeText" : "홍대",
  "startAt" : "2026-03-02T19:00:00",
  "remindAt" : "2026-03-02T18:00:00",
  "status" : "ACTIVE",
  "createdAt" : "2026-03-01T14:31:23.7433956"
} ]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_핀_완료"><a class="anchor" href="#_핀_완료"></a><a class="link" href="#_핀_완료">12.13. 핀 완료</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/pins/dc57eb48-d1f5-492b-a578-bf99accae943/done HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxNzAwZDNlOC0wMGY2LTQzMDYtYjYyZC0yOTVlOTJiMzk3MTIiLCJlbWFpbCI6InBpbkRvbmUrYWI2YmM1ZGMtNTgwMS00YjYwLThlN2QtZTBlNjFjYzdlYmJiQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.-wJsTzejjTxS61ieOHLHXNoeujJwk4XbdsbOvrzXL7M
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_핀_취소"><a class="anchor" href="#_핀_취소"></a><a class="link" href="#_핀_취소">12.14. 핀 취소</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/pins/c1665615-367f-4bc7-901c-c2f78a83111f/cancel HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMTUwYjJiYS1hNjFlLTQ2MWQtYWM1NC0wOTY2YWU4ZGU4NmUiLCJlbWFpbCI6InBpbkNhbmNlbCtlOWUxNWNlMS1mYTUwLTQ0NGEtODk4Ny1iYmU3ZTk0YTFiYTlAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODQsImV4cCI6MTc3MjM0NjY4NH0.Apj_D_LCFQ838PVkRv12BGF6LAPiiRc5NGPBakPawMs
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_핀_숨김개인"><a class="anchor" href="#_핀_숨김개인"></a><a class="link" href="#_핀_숨김개인">12.15. 핀 숨김(개인)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/pins/6679ffa4-8117-46a1-84de-94ebc7ebd7db/dismiss HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0NTcwYTUxZC0wODk3LTRmNDUtYjE2Yi04MmIxYjFmZGMwYmMiLCJlbWFpbCI6InBpbkRpc21pc3MrNGIxZmNkOWUtNDYxMC00ZGViLTk2ZmEtMjk4NjQyNWNhNTI2QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.8fWoKhI-TACLJIZPvD3bwSMypsQ8wkIgfKuSZZvYxXY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_핀_장소_수정"><a class="anchor" href="#_핀_장소_수정"></a><a class="link" href="#_핀_장소_수정">12.16. 핀 장소 수정</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">PATCH /api/pins/61bc0b14-f106-4ad0-bee5-1d3851d76be8 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwMmZmMTEwYS0zZmZkLTQ3MzMtOTA5Yi04MzBhZWYyNGVkYTIiLCJlbWFpbCI6InBpbkVkaXQrZWNlNzMxZmEtOTZlYi00MzA1LTkzNTktYTliNzgyMDViY2VlQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.0RDr2JgVMYVFFJ7G4iPefHbMmpXBTUfX41dSxdpGHt0
Content-Length: 34
Host: localhost:8080

{
  "placeText" : "회사 앞"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_11_notifications"><a class="anchor" href="#_11_notifications"></a><a class="link" href="#_11_notifications">13. 11. Notifications</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 이벤트로 새 알림을 감지한 뒤, 화면에서는 알림 목록 API를 재조회하는 패턴을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_알림_목록"><a class="anchor" href="#_알림_목록"></a><a class="link" href="#_알림_목록">13.1. 알림 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/notifications?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4MzFkODhhZC1hM2IwLTQyMGItYWQyZi03ZTZhNzVhNjk1MTQiLCJlbWFpbCI6Im5vdGlTZWxlY3QrMmYzNDg4NjQtMTFhOC00ZTUxLWIyMDctNTMwNDM4YzM2MTMyQHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.hYUHg8HBJhAeQ0A00b4BiRM_8uVBRH8XiWNW-xU55Is
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 702

{
  "items" : [ {
    "id" : "ca905725-36a2-4002-93be-aca80139e565",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "4c9a309b-b339-4a2e-abcb-5560c9f19d43",
    "conversationId" : null,
    "body" : "알림 1",
    "read" : false,
    "createdAt" : "2026-03-01T14:31:24.4584308"
  }, {
    "id" : "bc89fac3-92e4-44df-aadb-0eb6839c24fc",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "31ea6168-94b7-4091-a568-f16db4d7e338",
    "conversationId" : null,
    "body" : "알림 3",
    "read" : false,
    "createdAt" : "2026-03-01T14:31:24.4584308"
  } ],
  "nextCursor" : "2026-03-01T14:31:24.458430800|bc89fac3-92e4-44df-aadb-0eb6839c24fc",
  "hasNext" : true,
  "hasUnread" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_5"><a class="anchor" href="#_다음_페이지_예시_5"></a><a class="link" href="#_다음_페이지_예시_5">13.1.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/notifications?size=2&amp;cursor=2026-03-01T14%3A31%3A24.501081100%7C46811830-c544-4d12-a434-a550272ee361 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4YWRmOGM2YS0xZTU1LTRhNjgtOGQ0Ny1jNzkxNjMyYjUxYWMiLCJlbWFpbCI6Im5vdGlOZXh0K2Q5OWYxODVjLWUzYWItNGMzYi05YzBhLWVkZmRjMjFhODA4YkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NCwiZXhwIjoxNzcyMzQ2Njg0fQ.xnmlzijXRFUdjHsWMAKVqaBr39rXdSrOVQfMWHfowBw
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 702

{
  "items" : [ {
    "id" : "4a425ec1-f7a1-4af1-b6e6-a2ca8a63d2a0",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "d6b085bd-fe50-46cd-8c1e-588bc918388c",
    "conversationId" : null,
    "body" : "알림 5",
    "read" : false,
    "createdAt" : "2026-03-01T14:31:24.5010811"
  }, {
    "id" : "46811830-c544-4d12-a434-a550272ee361",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "21ec4983-935e-49d3-9f98-32fa5ddd44f7",
    "conversationId" : null,
    "body" : "알림 4",
    "read" : false,
    "createdAt" : "2026-03-01T14:31:24.5010811"
  } ],
  "nextCursor" : "2026-03-01T14:31:24.501081100|46811830-c544-4d12-a434-a550272ee361",
  "hasNext" : true,
  "hasUnread" : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_읽음_처리"><a class="anchor" href="#_알림_읽음_처리"></a><a class="link" href="#_알림_읽음_처리">13.2. 알림 읽음 처리</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/notifications/8f7fe995-31cb-4aca-b867-cd6019eb5ae0/read HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyNDU1NGNlNi0yZWI4LTQwNDktYjgzYi0wNWEwOGVjYzgwMDIiLCJlbWFpbCI6Im5vdGlSZWFkKzA2ODMyZWVmLTY0MWQtNDNhYy1iY2NjLTdhMjc0MWNlNGUyOUB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NCwiZXhwIjoxNzcyMzQ2Njg0fQ.BUfBKPUYULqVl6EnINrEkgogpjSZLzWcuPf9jvTXirU
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_전체_읽음_처리"><a class="anchor" href="#_알림_전체_읽음_처리"></a><a class="link" href="#_알림_전체_읽음_처리">13.3. 알림 전체 읽음 처리</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/notifications/read-all HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmMWE3OTEyNy02YjM2LTQ1NTQtYmUyNi0yMjJlOWVkY2ViNjYiLCJlbWFpbCI6Im5vdGlBbGxSZWFkKzUzNmU0NjhjLTRmZTItNDZiYS1hNzFhLTAxOWRhYmI5ZjQ0YkB0ZXN0LmNvbSIsImlhdCI6MTc3MjM0MzA4NCwiZXhwIjoxNzcyMzQ2Njg0fQ.o6xoddIvOAPKK0W9aAIDy17Z70U67eNm3KgW1K03Vos
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 26

{
  "updatedCount" : 2
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_삭제읽음처리200"><a class="anchor" href="#_알림_삭제읽음처리200"></a><a class="link" href="#_알림_삭제읽음처리200">13.4. 알림 삭제/읽음처리(200)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/notifications/read HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1MDg2ODAzOC1kZDA2LTRlNjktYWMwNS0xOTQ2NTA2OTYwNGMiLCJlbWFpbCI6Im5vdGlBbGxEZWxldGUrYTI3NGY5YTEtZTY1YS00NGViLWJmZTMtNzBmZmYxY2Y1MWM5QHRlc3QuY29tIiwiaWF0IjoxNzcyMzQzMDg0LCJleHAiOjE3NzIzNDY2ODR9.H6ocj1iEHMo7__miMtPRdLFtKE1znNDH3vYsDhkBjFI
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 26

{
  "deletedCount" : 2
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_12_sse"><a class="anchor" href="#_12_sse"></a><a class="link" href="#_12_sse">14. 12. SSE</a></h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 구독 엔드포인트는 인증이 필요합니다.
브라우저에서는 `withCredentials: true`가 필요하고, 가능하면 Cookie 방식(동일 오리진)을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>프록시/nginx 환경에서는 SSE 버퍼링이 끊김의 원인이 될 수 있어
<code>proxy_buffering off</code>, <code>proxy_read_timeout</code> 등을 권장합니다.
(현재 프로젝트 nginx는 `/api/sse/`에 대해 buffering off 설정이 포함되어 있습니다.)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_sse_구독"><a class="anchor" href="#_sse_구독"></a><a class="link" href="#_sse_구독">14.1. SSE 구독</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/sse/subscribe HTTP/1.1
Accept: text/event-stream
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1MjNmMTMyMS03MDViLTQxM2EtYWEwZS03N2I3ODU0YjczNmUiLCJlbWFpbCI6InNzZSsxYzRhMmYyMi0xZmM2LTQ1NWItYjEzMi0yOWFhOTRmY2JhYzdAdGVzdC5jb20iLCJpYXQiOjE3NzIzNDMwODUsImV4cCI6MTc3MjM0NjY4NX0.VqRQKAHKG5c8wLufif6gvR4RwErSMI8Hh7OXKHCjwHY
Last-Event-ID: optional-last-event-id
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Accel-Buffering: no
Cache-Control: no-cache
Content-Type: text/event-stream
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY
Content-Length: 108

event:connected
data:{"serverTime":"2026-03-01T14:31:25.076659900","lastEventId":"optional-last-event-id"}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.1-SNAPSHOT<br>
Last updated 2026-02-26 23:12:12 +0900
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>