<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Backend API</title>
<link rel="stylesheet" href="styles/custom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Backend API</h1>
<div class="details">
<span id="revnumber">version 0.0.1-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a>
<ul class="sectlevel2">
<li><a href="#_인증_방식_선택_가이드">1.1. 인증 방식 선택 가이드</a>
<ul class="sectlevel3">
<li><a href="#_cookie_방식권장">1.1.1. Cookie 방식(권장)</a></li>
<li><a href="#_bearer_방식대안">1.1.2. Bearer 방식(대안)</a></li>
</ul>
</li>
<li><a href="#_quick_start_bearer">1.2. Quick Start (Bearer)</a></li>
<li><a href="#_quick_start_cookie">1.3. Quick Start (Cookie)</a></li>
<li><a href="#_프론트axios에서_권장하는_401_처리_흐름">1.4. 프론트(axios)에서 권장하는 401 처리 흐름</a></li>
<li><a href="#_운영_환경_쿠키_설정_https_중요">1.5. 운영 환경 쿠키 설정 (HTTPS 중요)</a></li>
<li><a href="#_sse_운영_팁_nginxproxy">1.6. SSE 운영 팁 (Nginx/Proxy)</a></li>
<li><a href="#_공통_에러_응답_안내가이드">1.7. 공통 에러 응답 안내(가이드)</a></li>
</ul>
</li>
<li><a href="#_usage_scenarios_실전_사용_흐름">2. Usage Scenarios (실전 사용 흐름)</a>
<ul class="sectlevel2">
<li><a href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회">2.1. 시나리오 1: 회원가입 → 로그인(Cookie) → 내 정보 조회</a></li>
<li><a href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인">2.2. 시나리오 2: 파일 업로드 → 게시글 생성 → 피드 확인</a></li>
<li><a href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse">2.3. 시나리오 3: 쿠키 기반 채팅 실시간(메시지/삭제) + 알림 실시간(SSE)</a>
<ul class="sectlevel3">
<li><a href="#_3_1_sse_구독_cookie_권장">2.3.1. 3-1) SSE 구독 (Cookie 권장)</a></li>
<li><a href="#_3_2_direct_대화방_생성조회">2.3.2. 3-2) DIRECT 대화방 생성/조회</a></li>
<li><a href="#_3_3_메시지_목록_조회_화면_동기화용">2.3.3. 3-3) 메시지 목록 조회 (화면 동기화용)</a></li>
<li><a href="#_3_4_메시지_전송">2.3.4. 3-4) 메시지 전송</a></li>
<li><a href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트">2.3.5. 3-5) SSE 이벤트 종류(서버가 실제로 보내는 이벤트)</a></li>
<li><a href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie">2.3.6. 3-6) 401/재연결 권장 규칙 (쿠키 + refresh-cookie)</a></li>
</ul>
</li>
<li><a href="#_faq">2.4. FAQ</a>
<ul class="sectlevel3">
<li><a href="#_q1_401이_반복돼요">2.4.1. Q1. 401이 반복돼요</a></li>
<li><a href="#_q2_sse가_끊겨요">2.4.2. Q2. SSE가 끊겨요</a></li>
<li><a href="#_q3_refresh_cookie는_언제_호출해요">2.4.3. Q3. refresh-cookie는 언제 호출해요?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_1_authentication">3. 1. Authentication</a>
<ul class="sectlevel2">
<li><a href="#_로그인_bearer">3.1. 로그인 (Bearer)</a></li>
<li><a href="#_토큰_재발급refresh_bearer">3.2. 토큰 재발급(Refresh, Bearer)</a>
<ul class="sectlevel3">
<li><a href="#_실패_refresh_token_재사용401">3.2.1. 실패: Refresh Token 재사용(401)</a></li>
</ul>
</li>
<li><a href="#_전_기기_로그아웃_bearer">3.3. 전 기기 로그아웃 (Bearer)</a></li>
<li><a href="#_로그인_cookie">3.4. 로그인 (Cookie)</a></li>
<li><a href="#_토큰_재발급_cookie">3.5. 토큰 재발급 (Cookie)</a></li>
<li><a href="#_로그아웃_cookie">3.6. 로그아웃 (Cookie)</a></li>
<li><a href="#_전_기기_로그아웃_cookie">3.7. 전 기기 로그아웃 (Cookie)</a></li>
</ul>
</li>
<li><a href="#_2_users">4. 2. Users</a>
<ul class="sectlevel2">
<li><a href="#_회원가입">4.1. 회원가입</a>
<ul class="sectlevel3">
<li><a href="#_실패_400_validation">4.1.1. 실패: 400 Validation</a></li>
<li><a href="#_실패_409_duplicate_email">4.1.2. 실패: 409 Duplicate Email</a></li>
<li><a href="#_실패_409_duplicate_handle">4.1.3. 실패: 409 Duplicate Handle</a></li>
</ul>
</li>
<li><a href="#_사용자_검색_cursor_paging">4.2. 사용자 검색 (Cursor Paging)</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_조회_예시">4.2.1. 다음 페이지 조회 예시</a></li>
<li><a href="#_팔로잉_여부_포함_예시">4.2.2. 팔로잉 여부 포함 예시</a></li>
<li><a href="#_실패_q_blank400">4.2.3. 실패: q blank(400)</a></li>
<li><a href="#_실패_size_range400">4.2.4. 실패: size range(400)</a></li>
</ul>
</li>
<li><a href="#_프로필_조회">4.3. 프로필 조회</a></li>
</ul>
</li>
<li><a href="#_3_me">5. 3. Me</a>
<ul class="sectlevel2">
<li><a href="#_내_정보_조회">5.1. 내 정보 조회</a>
<ul class="sectlevel3">
<li><a href="#_실패_401_unauthorized">5.1.1. 실패: 401 Unauthorized</a></li>
</ul>
</li>
<li><a href="#_내_프로필_수정">5.2. 내 프로필 수정</a>
<ul class="sectlevel3">
<li><a href="#_실패_다른_유저_파일_사용403">5.2.1. 실패: 다른 유저 파일 사용(403)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_4_files">6. 4. Files</a>
<ul class="sectlevel2">
<li><a href="#_파일_업로드">6.1. 파일 업로드</a></li>
<li><a href="#_파일_다운로드_브라우저_렌더링">6.2. 파일 다운로드 (브라우저 렌더링)</a>
<ul class="sectlevel3">
<li><a href="#_304_not_modified_etag">6.2.1. 304 Not Modified (ETag)</a></li>
</ul>
</li>
<li><a href="#_썸네일_조회">6.3. 썸네일 조회</a>
<ul class="sectlevel3">
<li><a href="#_304_not_modified_etag_2">6.3.1. 304 Not Modified (ETag)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_5_follows">7. 5. Follows</a>
<ul class="sectlevel2">
<li><a href="#_팔로우">7.1. 팔로우</a>
<ul class="sectlevel3">
<li><a href="#_실패_자기_자신_팔로우400">7.1.1. 실패: 자기 자신 팔로우(400)</a></li>
</ul>
</li>
<li><a href="#_언팔로우">7.2. 언팔로우</a></li>
</ul>
</li>
<li><a href="#_6_posts">8. 6. Posts</a>
<ul class="sectlevel2">
<li><a href="#_게시글_생성">8.1. 게시글 생성</a></li>
<li><a href="#_게시글_단건_조회">8.2. 게시글 단건 조회</a></li>
<li><a href="#_게시글_삭제">8.3. 게시글 삭제</a></li>
</ul>
</li>
<li><a href="#_7_post_likes">9. 7. Post Likes</a>
<ul class="sectlevel2">
<li><a href="#_좋아요">9.1. 좋아요</a></li>
<li><a href="#_좋아요_취소">9.2. 좋아요 취소</a></li>
</ul>
</li>
<li><a href="#_8_comments">10. 8. Comments</a>
<ul class="sectlevel2">
<li><a href="#_댓글_생성201">10.1. 댓글 생성(201)</a>
<ul class="sectlevel3">
<li><a href="#_실패_내용_비어있음400">10.1.1. 실패: 내용 비어있음(400)</a></li>
</ul>
</li>
<li><a href="#_댓글_목록200">10.2. 댓글 목록(200)</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시">10.2.1. 다음 페이지 예시</a></li>
<li><a href="#_다음_페이지_followup_예시">10.2.2. 다음 페이지 followup 예시</a></li>
<li><a href="#_실패_invalid_cursor400">10.2.3. 실패: invalid cursor(400)</a></li>
</ul>
</li>
<li><a href="#_댓글_삭제204">10.3. 댓글 삭제(204)</a>
<ul class="sectlevel3">
<li><a href="#_실패_invalid_uuid400">10.3.1. 실패: invalid uuid(400)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_9_feed">11. 9. Feed</a>
<ul class="sectlevel2">
<li><a href="#_피드_조회">11.1. 피드 조회</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_2">11.1.1. 다음 페이지 예시</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_10_conversations_messages">12. 10. Conversations &amp; Messages</a>
<ul class="sectlevel2">
<li><a href="#_대화방_생성조회direct">12.1. 대화방 생성/조회(DIRECT)</a></li>
<li><a href="#_대화방_목록">12.2. 대화방 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_3">12.2.1. 다음 페이지 예시</a></li>
<li><a href="#_다음_페이지_followup_예시_2">12.2.2. 다음 페이지 followup 예시</a></li>
</ul>
</li>
<li><a href="#_대화_읽음_처리read">12.3. 대화 읽음 처리(READ)</a></li>
<li><a href="#_안_읽은_메시지_before">12.4. 안 읽은 메시지: before</a></li>
<li><a href="#_안_읽은_메시지_before_messages_get">12.5. 안 읽은 메시지: before (messages get)</a></li>
<li><a href="#_안_읽은_메시지_after">12.6. 안 읽은 메시지: after</a></li>
<li><a href="#_안_읽은_메시지_after_messages_get">12.7. 안 읽은 메시지: after (messages get)</a></li>
<li><a href="#_메시지_전송">12.8. 메시지 전송</a></li>
<li><a href="#_메시지_목록">12.9. 메시지 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_4">12.9.1. 다음 페이지 예시</a></li>
<li><a href="#_자동_읽음_처리_예시">12.9.2. 자동 읽음 처리 예시</a></li>
<li><a href="#_실패_대화방_없음404">12.9.3. 실패: 대화방 없음(404)</a></li>
</ul>
</li>
<li><a href="#_메시지_숨김">12.10. 메시지 숨김</a></li>
<li><a href="#_메시지_삭제모두에게">12.11. 메시지 삭제(모두에게)</a></li>
</ul>
</li>
<li><a href="#_11_notifications">13. 11. Notifications</a>
<ul class="sectlevel2">
<li><a href="#_알림_목록">13.1. 알림 목록</a>
<ul class="sectlevel3">
<li><a href="#_다음_페이지_예시_5">13.1.1. 다음 페이지 예시</a></li>
</ul>
</li>
<li><a href="#_알림_읽음_처리">13.2. 알림 읽음 처리</a></li>
<li><a href="#_알림_전체_읽음_처리">13.3. 알림 전체 읽음 처리</a></li>
<li><a href="#_알림_삭제읽음처리200">13.4. 알림 삭제/읽음처리(200)</a></li>
</ul>
</li>
<li><a href="#_12_sse">14. 12. SSE</a>
<ul class="sectlevel2">
<li><a href="#_sse_구독">14.1. SSE 구독</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a><a class="link" href="#_overview">1. Overview</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">항목</th>
<th class="tableblock halign-left valign-top">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://localhost" class="bare">http://localhost</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/docs</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">인증</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cookie 방식 권장</strong> (<code>login-cookie</code> / <code>refresh-cookie</code>) + Bearer 대안</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET /api/sse/subscribe</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>이 문서는 Spring REST Docs가 테스트 실행 시 생성한 스니펫(<code>build/generated-snippets</code>)을 include 해서 만들어집니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>스니펫 생성: <code>./gradlew test</code></p>
</li>
<li>
<p>문서 생성: <code>./gradlew asciidoctor</code></p>
</li>
<li>
<p>결과: <code>build/docs/asciidoc/index.html</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_인증_방식_선택_가이드"><a class="anchor" href="#_인증_방식_선택_가이드"></a><a class="link" href="#_인증_방식_선택_가이드">1.1. 인증 방식 선택 가이드</a></h3>
<div class="sect3">
<h4 id="_cookie_방식권장"><a class="anchor" href="#_cookie_방식권장"></a><a class="link" href="#_cookie_방식권장">1.1.1. Cookie 방식(권장)</a></h4>
<div class="ulist">
<ul>
<li>
<p>브라우저 환경에서 가장 자연스럽고, <strong>SSE에도 그대로 적용</strong>하기 쉽습니다.</p>
</li>
<li>
<p>프론트는 `withCredentials: true`로 쿠키를 자동 전송합니다.</p>
</li>
<li>
<p>Access 만료 시 `refresh-cookie`로 재발급 후 원요청을 재시도하는 패턴이 일반적입니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_bearer_방식대안"><a class="anchor" href="#_bearer_방식대안"></a><a class="link" href="#_bearer_방식대안">1.1.2. Bearer 방식(대안)</a></h4>
<div class="ulist">
<ul>
<li>
<p>모바일 앱 / 서버-서버 호출 등 “쿠키를 쓰기 애매한 환경”에서 사용합니다.</p>
</li>
<li>
<p><code>Authorization: Bearer &lt;accessToken&gt;</code> 헤더를 사용합니다.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quick_start_bearer"><a class="anchor" href="#_quick_start_bearer"></a><a class="link" href="#_quick_start_bearer">1.2. Quick Start (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 1) 로그인 → accessToken
curl -s -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login

# 2) Authorization 헤더로 호출
curl -i -H "Authorization: Bearer &lt;accessToken&gt;" http://localhost/api/me</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quick_start_cookie"><a class="anchor" href="#_quick_start_cookie"></a><a class="link" href="#_quick_start_cookie">1.3. Quick Start (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 1) 로그인(쿠키 저장)
curl -i -c cookies.txt \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login-cookie

# 2) 내 정보
curl -i -b cookies.txt http://localhost/api/me

# 3) refresh-cookie (Access 만료 시)
curl -i -b cookies.txt -c cookies.txt http://localhost/api/auth/refresh-cookie

# 4) logout-cookie
curl -i -b cookies.txt http://localhost/api/auth/logout-cookie</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_프론트axios에서_권장하는_401_처리_흐름"><a class="anchor" href="#_프론트axios에서_권장하는_401_처리_흐름"></a><a class="link" href="#_프론트axios에서_권장하는_401_처리_흐름">1.4. 프론트(axios)에서 권장하는 401 처리 흐름</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>권장 패턴(쿠키 인증 기준):</p>
</div>
<div class="paragraph">
<p>1) API 호출 중 401 발생
2) <code>POST /api/auth/refresh-cookie</code> 호출 (쿠키 자동 전송)
3) refresh 성공 시: 원래 실패한 요청을 <strong>딱 1회 재시도</strong>
4) refresh 실패(401/403 등) 시: 세션 만료로 판단하고 로그인 페이지로 이동</p>
</div>
<div class="paragraph">
<p>주의:
- refresh 요청이 동시 다발적으로 발생하지 않도록 “refresh 큐/락(한 번만 실행)”을 권장합니다.
- 무한 재시도 방지를 위해, 같은 요청은 1회만 재시도하도록 제한합니다.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_운영_환경_쿠키_설정_https_중요"><a class="anchor" href="#_운영_환경_쿠키_설정_https_중요"></a><a class="link" href="#_운영_환경_쿠키_설정_https_중요">1.5. 운영 환경 쿠키 설정 (HTTPS 중요)</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>운영이 HTTPS인데 `Secure=false`면 브라우저가 쿠키를 막아 인증이 깨질 수 있습니다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>동일 오리진 SPA: 보통 <code>SameSite=Lax</code> 권장</p>
</li>
<li>
<p>프론트/백 도메인 분리(크로스사이트): <code>SameSite=None</code> + `Secure=true`가 필요할 수 있음</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sse_운영_팁_nginxproxy"><a class="anchor" href="#_sse_운영_팁_nginxproxy"></a><a class="link" href="#_sse_운영_팁_nginxproxy">1.6. SSE 운영 팁 (Nginx/Proxy)</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE는 “연결을 오래 유지”하므로 프록시 설정이 중요합니다.</p>
</div>
<div class="paragraph">
<p>권장 설정(요약):
- <code>proxy_buffering off</code> : 버퍼링 비활성화(실시간 전송)
- <code>proxy_read_timeout</code> 충분히 크게 (예: 3600s)
- 필요 시 <code>X-Accel-Buffering: no</code> 헤더도 고려</p>
</div>
<div class="paragraph">
<p>또한:
- 클라이언트는 네트워크 단절에 대비해 자동 재연결(리트라이)을 권장합니다.
- 인증은 쿠키 기반이면 SSE에도 동일하게 적용됩니다(<code>credentials: include</code>).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_공통_에러_응답_안내가이드"><a class="anchor" href="#_공통_에러_응답_안내가이드"></a><a class="link" href="#_공통_에러_응답_안내가이드">1.7. 공통 에러 응답 안내(가이드)</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>에러 응답은 보통 아래와 같은 형태를 가집니다(프로젝트 구현에 따라 필드가 다를 수 있음).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "code": "AUTH_UNAUTHORIZED",
  "message": "인증이 필요합니다."
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_scenarios_실전_사용_흐름"><a class="anchor" href="#_usage_scenarios_실전_사용_흐름"></a><a class="link" href="#_usage_scenarios_실전_사용_흐름">2. Usage Scenarios (실전 사용 흐름)</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>이 섹션은 API를 “목록”이 아니라 “실제 제품 흐름”으로 설명합니다.
(각 API의 상세 스펙은 아래 1~12 섹션의 REST Docs 스니펫을 참고하세요.)</p>
</div>
<div class="sect2">
<h3 id="_시나리오_1_회원가입_로그인cookie_내_정보_조회"><a class="anchor" href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회"></a><a class="link" href="#_시나리오_1_회원가입_로그인cookie_내_정보_조회">2.1. 시나리오 1: 회원가입 → 로그인(Cookie) → 내 정보 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 0) 회원가입 (필드: email, handle, password, name)
curl -i -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","handle":"user1","password":"1234","name":"User One"}' \
  http://localhost/api/users

# 1) 로그인(쿠키 저장)
curl -i -c cookies.txt \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"1234"}' \
  http://localhost/api/auth/login-cookie

# 2) 내 정보 조회
curl -i -b cookies.txt http://localhost/api/me

# 3) 로그아웃
curl -i -b cookies.txt http://localhost/api/auth/logout-cookie</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>브라우저(SPA)에서는 쿠키 자동 저장이므로 `cookies.txt`는 필요 없습니다.</p>
</li>
<li>
<p>프론트는 반드시 `withCredentials: true`를 켜야 합니다.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_시나리오_2_파일_업로드_게시글_생성_피드_확인"><a class="anchor" href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인"></a><a class="link" href="#_시나리오_2_파일_업로드_게시글_생성_피드_확인">2.2. 시나리오 2: 파일 업로드 → 게시글 생성 → 피드 확인</a></h3>
<div class="paragraph">
<p>권장 흐름:
1) 파일 업로드로 <code>fileId</code> 확보
2) 게시글 생성 시 `imageFileIds`에 첨부
3) 피드에서 확인</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># (전제) 로그인 후 cookies.txt가 있다고 가정

# 1) 파일 업로드 (multipart POST /api/files, part name: file)
# - 응답에서 fileId를 확보
curl -i -b cookies.txt \
  -F "file=@./sample.png" \
  http://localhost/api/files

# 2) 게시글 생성 (POST /api/posts)
# - 권장: imageFileIds 사용
curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"content":"hello","imageFileIds":["&lt;fileId&gt;"],"visibility":"FOLLOWERS"}' \
  http://localhost/api/posts

# 3) 피드 조회 (GET /api/feed?size=20)
curl -i -b cookies.txt "http://localhost/api/feed?size=20"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>visibility 값: <code>ALL | FOLLOWERS | PRIVATE</code></p>
</li>
<li>
<p>피드는 cursor 기반 페이징을 지원합니다. (다음 페이지: `cursor`를 응답 값으로 넣어 재호출)</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse"><a class="anchor" href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse"></a><a class="link" href="#_시나리오_3_쿠키_기반_채팅_실시간메시지삭제_알림_실시간sse">2.3. 시나리오 3: 쿠키 기반 채팅 실시간(메시지/삭제) + 알림 실시간(SSE)</a></h3>
<div class="paragraph">
<p>이 서버는 SSE 이벤트로 실시간 신호를 보내고, 화면 데이터는 REST API 재조회로 동기화하는 패턴을 권장합니다.</p>
</div>
<div class="sect3">
<h4 id="_3_1_sse_구독_cookie_권장"><a class="anchor" href="#_3_1_sse_구독_cookie_권장"></a><a class="link" href="#_3_1_sse_구독_cookie_권장">2.3.1. 3-1) SSE 구독 (Cookie 권장)</a></h4>
<div class="paragraph">
<p>SSE 엔드포인트:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GET /api/sse/subscribe</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>쿠키 인증이면 SSE에도 동일하게 쿠키가 전송되어 인증됩니다.</p>
</li>
<li>
<p>연결 직후 서버는 <code>connected</code> 이벤트를 한 번 보냅니다.</p>
</li>
<li>
<p>클라이언트는 필요 시 <code>Last-Event-ID</code> 헤더로 누락 이벤트를 replay 받을 수 있습니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_3_2_direct_대화방_생성조회"><a class="anchor" href="#_3_2_direct_대화방_생성조회"></a><a class="link" href="#_3_2_direct_대화방_생성조회">2.3.2. 3-2) DIRECT 대화방 생성/조회</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 상대 userId로 DIRECT 대화방 생성/조회
curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"targetUserId":"&lt;targetUserId&gt;"}' \
  http://localhost/api/conversations/direct</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_3_메시지_목록_조회_화면_동기화용"><a class="anchor" href="#_3_3_메시지_목록_조회_화면_동기화용"></a><a class="link" href="#_3_3_메시지_목록_조회_화면_동기화용">2.3.3. 3-3) 메시지 목록 조회 (화면 동기화용)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># 최근 메시지 조회 (cursor 기반이면 cursor/size를 사용)
curl -i -b cookies.txt \
  "http://localhost/api/conversations/&lt;conversationId&gt;/messages?size=20"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_4_메시지_전송"><a class="anchor" href="#_3_4_메시지_전송"></a><a class="link" href="#_3_4_메시지_전송">2.3.4. 3-4) 메시지 전송</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -i -b cookies.txt -H "Content-Type: application/json" \
  -d '{"content":"안녕!","attachmentIds":[]}' \
  "http://localhost/api/conversations/&lt;conversationId&gt;/messages"</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트"><a class="anchor" href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트"></a><a class="link" href="#_3_5_sse_이벤트_종류서버가_실제로_보내는_이벤트">2.3.5. 3-5) SSE 이벤트 종류(서버가 실제로 보내는 이벤트)</a></h4>
<div class="paragraph">
<p>서버는 아래 이벤트를 전송합니다.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">event name</th>
<th class="tableblock halign-left valign-top">언제 발생</th>
<th class="tableblock halign-left valign-top">클라이언트 권장 동작</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connected</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">구독 직후 연결 확인</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">상태 표시(connected), 필요 시 초기 동기화 트리거</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message-created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">상대가 메시지 전송</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 메시지 목록 재조회(또는 뱃지/리스트 갱신)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message-deleted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">메시지 삭제 발생</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">해당 대화방 메시지 목록 재조회</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notification-created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">새 알림 생성</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">알림 목록 재조회 / 뱃지 카운트 갱신</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 이벤트 payload는 "화면에 바로 렌더링"하기보다,
- 메시지/알림 API를 재조회해서 서버 상태와 1:1로 맞추는 방식이 운영에 가장 안정적입니다.</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="_3_6_401재연결_권장_규칙_쿠키_refresh_cookie"><a class="anchor" href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie"></a><a class="link" href="#_3_6_401재연결_권장_규칙_쿠키_refresh_cookie">2.3.6. 3-6) 401/재연결 권장 규칙 (쿠키 + refresh-cookie)</a></h4>
<div class="paragraph">
<p>SSE 연결 중 인증 문제가 생기면(401):
1) <code>POST /api/auth/refresh-cookie</code>
2) 성공 시 SSE 재구독
3) 실패 시 로그아웃 처리</p>
</div>
<div class="paragraph">
<p>네트워크 단절/서버 재시작 등(5xx/네트워크 에러):
- 일정 backoff로 자동 재연결
- 가능하면 마지막으로 받은 이벤트 ID를 저장해 `Last-Event-ID`로 전달(누락 replay)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>현재 서버는 구독 시 `Last-Event-ID`를 받아 누락 이벤트 replay를 시도합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_faq"><a class="anchor" href="#_faq"></a><a class="link" href="#_faq">2.4. FAQ</a></h3>
<div class="sect3">
<h4 id="_q1_401이_반복돼요"><a class="anchor" href="#_q1_401이_반복돼요"></a><a class="link" href="#_q1_401이_반복돼요">2.4.1. Q1. 401이 반복돼요</a></h4>
<div class="ulist">
<ul>
<li>
<p>SPA면 `withCredentials: true`가 꺼졌을 가능성이 큽니다.</p>
</li>
<li>
<p>운영 HTTPS라면 <code>Secure=true</code> 쿠키가 아니면 브라우저가 막을 수 있습니다.</p>
</li>
<li>
<p>크로스 도메인이라면 `SameSite=None; Secure`가 필요할 수 있습니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_q2_sse가_끊겨요"><a class="anchor" href="#_q2_sse가_끊겨요"></a><a class="link" href="#_q2_sse가_끊겨요">2.4.2. Q2. SSE가 끊겨요</a></h4>
<div class="ulist">
<ul>
<li>
<p>프록시에서 <code>proxy_buffering off</code>, `proxy_read_timeout`이 빠진 경우가 가장 흔합니다.</p>
</li>
<li>
<p>네트워크 변경에 대비해 클라이언트 자동 재연결이 필요합니다.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_q3_refresh_cookie는_언제_호출해요"><a class="anchor" href="#_q3_refresh_cookie는_언제_호출해요"></a><a class="link" href="#_q3_refresh_cookie는_언제_호출해요">2.4.3. Q3. refresh-cookie는 언제 호출해요?</a></h4>
<div class="ulist">
<ul>
<li>
<p>보통 “401 발생 시”에만 호출합니다.</p>
</li>
<li>
<p>원 요청은 1회만 재시도(무한 루프 방지)하세요.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_1_authentication"><a class="anchor" href="#_1_authentication"></a><a class="link" href="#_1_authentication">3. 1. Authentication</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_로그인_bearer"><a class="anchor" href="#_로그인_bearer"></a><a class="link" href="#_로그인_bearer">3.1. 로그인 (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/login HTTP/1.1
Content-Type: application/json
Content-Length: 88
Host: localhost:8080

{"password":"password1234","email":"auth+0add85c2-45bf-4eed-bc3f-32f10d32c483@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 353

{"accessToken":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3MjYzZjU2NS0yNGFjLTQ0NDQtOTRiMS0wOWJmMWZjMzc1MjQiLCJlbWFpbCI6ImF1dGgrMGFkZDg1YzItNDViZi00ZWVkLWJjM2YtMzJmMTBkMzJjNDgzQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.Mer0sNl1Qs6RBeDyYK6OQ6eCw8SMVySG5CTXT-Eum6E","refreshToken":"L1JOuCGDjK02NuyYZUyPzPL9r8GAZ0ajpIwPtoZ0qaQ","tokenType":"Bearer"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_토큰_재발급refresh_bearer"><a class="anchor" href="#_토큰_재발급refresh_bearer"></a><a class="link" href="#_토큰_재발급refresh_bearer">3.2. 토큰 재발급(Refresh, Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh HTTP/1.1
Content-Type: application/json
Content-Length: 62
Host: localhost:8080

{"refreshToken":"HW3QgcAoquyq4TSO8-JmvT_E5iOWh3a8mHerWtza2cg"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 353

{"accessToken":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3MzcyOTAwZi0yMWUwLTQxNDYtYjkzMS0wNzQ2NmZkZWFlZmQiLCJlbWFpbCI6ImF1dGgrOGEyMWEzNjQtMmEwNS00ZDU1LTk3NDMtMzNmMDg5NWY5NDQzQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ1LCJleHAiOjE3NzE2MDM5NDV9.d9ob4HE1upfP4Bfzy3JcpudU8Nvu8DN3UW9aMuVVEog","refreshToken":"-1KljYfsex7SuBqlqHQEJNuDLb0o4ZneT4mPF1NZloo","tokenType":"Bearer"}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_refresh_token_재사용401"><a class="anchor" href="#_실패_refresh_token_재사용401"></a><a class="link" href="#_실패_refresh_token_재사용401">3.2.1. 실패: Refresh Token 재사용(401)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh HTTP/1.1
Content-Type: application/json
Content-Length: 62
Host: localhost:8080

{"refreshToken":"RvmZ7tfs7t5BVS7yS3DHY_vUhFlLu0d5UIa3nKBkR-0"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 401 Unauthorized
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 155

{"code":"AUTH_UNAUTHORIZED","message":"인증이 필요합니다.","timestamp":"2026-02-21T00:12:25.3069815","path":"/api/auth/refresh","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_전_기기_로그아웃_bearer"><a class="anchor" href="#_전_기기_로그아웃_bearer"></a><a class="link" href="#_전_기기_로그아웃_bearer">3.3. 전 기기 로그아웃 (Bearer)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-all HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3M2JhNzY1Zi1iMTRhLTRlZmMtOTNiOS01YTIzMDc1ZjlkY2MiLCJlbWFpbCI6ImxvZ291dGFsbCs5MjdlMGQ5Yy1lOTE3LTQ1MTctOGNmZi04M2IzZTc4YzNhZTNAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDQsImV4cCI6MTc3MTYwMzk0NH0.awJhWbqLlRp-vTg30a2j2tFHRLGtpchppbclV7Nlt74
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 61

{"accessToken":null,"refreshToken":null,"tokenType":"Bearer"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_로그인_cookie"><a class="anchor" href="#_로그인_cookie"></a><a class="link" href="#_로그인_cookie">3.4. 로그인 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/login-cookie HTTP/1.1
Content-Type: application/json
Content-Length: 88
Host: localhost:8080

{"password":"password1234","email":"auth+bef0a3c4-4d9d-47cb-92e0-956277244bbe@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzZWMxNDE3Mi0wMzA0LTRkZTEtOTc5Yy1mZGY5M2I3NzQ5NjUiLCJlbWFpbCI6ImF1dGgrYmVmMGEzYzQtNGQ5ZC00N2NiLTkyZTAtOTU2Mjc3MjQ0YmJlQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.sB9D1TDGrI3g5K7AP66p_83uXpL60iFm8X-1UoC52V8; Path=/; Max-Age=900; Expires=Fri, 20 Feb 2026 15:27:26 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=Fib-UgkXFlb9O4YEorTevdUBv7bZJcgDAGMHdpwpwoY; Path=/api/auth; Max-Age=1209600; Expires=Fri, 6 Mar 2026 15:12:26 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_토큰_재발급_cookie"><a class="anchor" href="#_토큰_재발급_cookie"></a><a class="link" href="#_토큰_재발급_cookie">3.5. 토큰 재발급 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/refresh-cookie HTTP/1.1
Host: localhost:8080
Cookie: refresh_token=A33-J8TDyvSYnGgC6JoSac_a4CD2eRGriqPRzahB8dY
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwNDRiN2Y2YS0zYWFkLTQxOTQtYjQ1MS1mNmIwM2YxMGMyZjMiLCJlbWFpbCI6ImF1dGgrODIzMzc3NTMtOTEyOS00NmVlLWFmNDMtM2JhZDA5OTI3MzgxQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ1LCJleHAiOjE3NzE2MDM5NDV9.l6l5bY7c0RGsOopgKcGXliuRvDzyXwgBgywXkq8Ruvw; Path=/; Max-Age=900; Expires=Fri, 20 Feb 2026 15:27:25 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=k66fExgSYvJioW151rZZy3ZQdz0QKSV7gvUtkCBIiP0; Path=/api/auth; Max-Age=1209600; Expires=Fri, 6 Mar 2026 15:12:25 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_로그아웃_cookie"><a class="anchor" href="#_로그아웃_cookie"></a><a class="link" href="#_로그아웃_cookie">3.6. 로그아웃 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-cookie HTTP/1.1
Host: localhost:8080
Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzZWMxNDE3Mi0wMzA0LTRkZTEtOTc5Yy1mZGY5M2I3NzQ5NjUiLCJlbWFpbCI6ImF1dGgrYmVmMGEzYzQtNGQ5ZC00N2NiLTkyZTAtOTU2Mjc3MjQ0YmJlQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.sB9D1TDGrI3g5K7AP66p_83uXpL60iFm8X-1UoC52V8; refresh_token=Fib-UgkXFlb9O4YEorTevdUBv7bZJcgDAGMHdpwpwoY
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=; Path=/; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=; Path=/api/auth; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_전_기기_로그아웃_cookie"><a class="anchor" href="#_전_기기_로그아웃_cookie"></a><a class="link" href="#_전_기기_로그아웃_cookie">3.7. 전 기기 로그아웃 (Cookie)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/auth/logout-all-cookie HTTP/1.1
Host: localhost:8080
Cookie: access_token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkNTgzMzNiOS00ZGU5LTQ3NjEtYmMwZC1kZmYxZjFlOGVkYjciLCJlbWFpbCI6ImF1dGgrM2E3YTRlODAtOWI1Ny00YTVjLTk1NTQtODU1MjVlNmRmMGVmQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ1LCJleHAiOjE3NzE2MDM5NDV9.Tmn5cO8RznJLFPY6uamcQEGraQuuls_k5y2c2eL9PAA
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Set-Cookie: access_token=; Path=/; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Set-Cookie: refresh_token=; Path=/api/auth; Max-Age=0; Expires=Thu, 1 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=Lax
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 16

{"message":"OK"}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_users"><a class="anchor" href="#_2_users"></a><a class="link" href="#_2_users">4. 2. Users</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Users API 권장 흐름</strong>
- 회원가입 → 로그인(쿠키 권장)
- 사용자 검색은 Cursor Paging → 응답에 nextCursor가 있으면 다음 페이지 조회에 사용</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_회원가입"><a class="anchor" href="#_회원가입"></a><a class="link" href="#_회원가입">4.1. 회원가입</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 166
Host: localhost:8080

{
  "password" : "password1234",
  "name" : "테스트유저",
  "handle" : "user_5be2d5b7",
  "email" : "signup+6e74bb69-df6a-49f3-b0e4-0a4aac060e7f@test.com"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 184

{
  "id" : "7c6aa3a3-9aa9-49f9-a877-953d608798a1",
  "email" : "signup+6e74bb69-df6a-49f3-b0e4-0a4aac060e7f@test.com",
  "handle" : "user_5be2d5b7",
  "name" : "테스트유저"
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_400_validation"><a class="anchor" href="#_실패_400_validation"></a><a class="link" href="#_실패_400_validation">4.1.1. 실패: 400 Validation</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 73
Host: localhost:8080

{"password":"password1234","name":"시드유저","email":"seed@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 262

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:32.7212363",
  "path" : "/api/users",
  "fieldErrors" : [ {
    "field" : "handle",
    "reason" : "must not be blank"
  } ]
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_409_duplicate_email"><a class="anchor" href="#_실패_409_duplicate_email"></a><a class="link" href="#_실패_409_duplicate_email">4.1.2. 실패: 409 Duplicate Email</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 137
Host: localhost:8080

{"password":"password1234","name":"중복테스트2","handle":"dup_c9eda41e","email":"dup+c373c54e-8414-45f0-bc28-ffbe7d0f74e0@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 409 Conflict
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 161

{"code":"USER_DUPLICATE_EMAIL","message":"이미 가입된 이메일입니다.","timestamp":"2026-02-21T00:12:32.8394415","path":"/api/users","fieldErrors":null}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_409_duplicate_handle"><a class="anchor" href="#_실패_409_duplicate_handle"></a><a class="link" href="#_실패_409_duplicate_handle">4.1.3. 실패: 409 Duplicate Handle</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/users HTTP/1.1
Content-Type: application/json
Content-Length: 137
Host: localhost:8080

{"password":"password1234","name":"아이디중복2","handle":"same_c6844427","email":"h2+bf0db678-3980-4747-8e65-6b6624455e1e@test.com"}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 409 Conflict
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 166

{"code":"USER_DUPLICATE_HANDLE","message":"이미 사용 중인 아이디입니다.","timestamp":"2026-02-21T00:12:32.4696287","path":"/api/users","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_사용자_검색_cursor_paging"><a class="anchor" href="#_사용자_검색_cursor_paging"></a><a class="link" href="#_사용자_검색_cursor_paging">4.2. 사용자 검색 (Cursor Paging)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3NzZlYWRlMi0xYWYzLTRjZWEtYTQyMC1hMDkwYTY5N2NiZTciLCJlbWFpbCI6InNlYXJjaG1lKzU4MGM1YTRkLWZjZTMtNDg1My05MDQyLTA5NWE0ODMwYjRlOUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MiwiZXhwIjoxNzcxNjAzOTUyfQ.LtZ28hwvwQT8rrNIjMGWjk00n74gKOc5xnkYcqu6Zis
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 478

{
  "items" : [ {
    "userId" : "fda49e59-b506-442c-9296-b8e036c609b9",
    "handle" : "kim",
    "name" : "김철수",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  }, {
    "userId" : "af7654e3-c0c4-4002-81f1-6d9ff1980525",
    "handle" : "kimchi",
    "name" : "김치",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  } ],
  "nextCursor" : "0|0|kimchi|af7654e3-c0c4-4002-81f1-6d9ff1980525",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_조회_예시"><a class="anchor" href="#_다음_페이지_조회_예시"></a><a class="link" href="#_다음_페이지_조회_예시">4.2.1. 다음 페이지 조회 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=2&amp;cursor=0%7C0%7Ckimchi%7C82498f78-614d-41fc-b58b-b0571acdde0f HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlN2ViNTFjNC0wNzYwLTRkZTAtYjBmNS1jMzhjNmI1ODMwZTkiLCJlbWFpbCI6InNlYXJjaG1lKzRiNDE4OTE3LTM2MjAtNGMwNi1iMjRkLTVhYWQ1ZjZjZTA1M0B0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MywiZXhwIjoxNzcxNjAzOTUzfQ.a8rzOnegplRlsAfteKqP2fD4wQGNVyIH46EcpRAz0yc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 431

{
  "items" : [ {
    "userId" : "221ecec6-5752-4371-b195-d82c2e19aa87",
    "handle" : "xx",
    "name" : "kim영희",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  }, {
    "userId" : "abe0b121-59ba-4060-afc7-69b9a19215c2",
    "handle" : "akim",
    "name" : "아킴",
    "followerCount" : 0,
    "rank" : 1,
    "isFollowing" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_팔로잉_여부_포함_예시"><a class="anchor" href="#_팔로잉_여부_포함_예시"></a><a class="link" href="#_팔로잉_여부_포함_예시">4.2.2. 팔로잉 여부 포함 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmZWM5NGU1Yy1mNzNkLTRmYTUtOGEyMC03MzNhYjY0NDViNzQiLCJlbWFpbCI6InNlYXJjaG1lK2NjY2YxNjNjLWY3NDEtNDhjZS04NjAzLTk0ZDY2ZDdiZjQ3NkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MywiZXhwIjoxNzcxNjAzOTUzfQ.P-g711is1CAqucRFJdOYYUUxEaJJ-2eqMON8-sLHcgc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 433

{
  "items" : [ {
    "userId" : "db789cf9-51ea-4b3e-9f6c-fe1623fad4a5",
    "handle" : "kim",
    "name" : "김철수",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : true
  }, {
    "userId" : "4746ca74-e320-4dc5-80a8-a49bbea044ef",
    "handle" : "kimchi",
    "name" : "김치",
    "followerCount" : 0,
    "rank" : 0,
    "isFollowing" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_q_blank400"><a class="anchor" href="#_실패_q_blank400"></a><a class="link" href="#_실패_q_blank400">4.2.3. 실패: q blank(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=+++ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwY2RmZTRhNS1kNDQyLTRiNmUtODAyMC01NTk5M2UyNWM2YmQiLCJlbWFpbCI6InNlYXJjaG1lKzJmMjMxZDE2LWRhYWQtNDA4YS1iYmJlLTAwMzUxYzI3ZGYyN0B0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MywiZXhwIjoxNzcxNjAzOTUzfQ.fAMY2plWiiVFt2x4pP7GgcvpsUgtBvKKYF5smILs9Ww
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 202

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:33.0922999",
  "path" : "/api/users/search",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_size_range400"><a class="anchor" href="#_실패_size_range400"></a><a class="link" href="#_실패_size_range400">4.2.4. 실패: size range(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/search?q=kim&amp;size=999 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyZjAwMGJjMS1lNWVlLTQ3NGQtOGRhNi01MDQzYzc4NWUzYzMiLCJlbWFpbCI6InNlYXJjaG1lKzYyOWI3ZTY1LWZiOWEtNDhlOS1iMDhmLWMzNTVkYmNjOWUxNUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MiwiZXhwIjoxNzcxNjAzOTUyfQ.0SwwXmMiLt2OGYLz6NZZJ9BRDIcxSZi5Ii7h4Uj95WI
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 202

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:32.8907822",
  "path" : "/api/users/search",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_프로필_조회"><a class="anchor" href="#_프로필_조회"></a><a class="link" href="#_프로필_조회">4.3. 프로필 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/users/profile_29e522d2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxNDlkNjdiYi05YmI1LTRkY2MtYTBkMC01ZWU3YjVlY2ZhOGYiLCJlbWFpbCI6InByb2ZpbGUrMjAyZGVkZDEtY2JkMy00ZGRjLWJmM2EtODA4YTQ4YzFhYmNhQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUyLCJleHAiOjE3NzE2MDM5NTJ9.378HZH8-xII_Q5R6wrBcc6ehP-a0lDDHXZuK2h-OhMY
Accept: application/json
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 184

{"id":"149d67bb-9bb5-4dcc-a0d0-5ee7b5ecfa8f","handle":"profile_29e522d2","name":"프로필유저","bio":null,"website":null,"profileImageUrl":null,"followerCount":0,"followingCount":0}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_me"><a class="anchor" href="#_3_me"></a><a class="link" href="#_3_me">5. 3. Me</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_내_정보_조회"><a class="anchor" href="#_내_정보_조회"></a><a class="link" href="#_내_정보_조회">5.1. 내 정보 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/me HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhMjIzODc4ZC0zOGZkLTQ4MGItYmVkMC03MTNmYTM5ZjgzNmMiLCJlbWFpbCI6Im1lK2YzNWVmMDk3LTFmODYtNGU4Ny05MTNhLTVlZWFiM2NkZjc0YUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0OCwiZXhwIjoxNzcxNjAzOTQ4fQ.clK9WfwgkmXHxQI6ZnjKRG-DkIkosXOwm9oq5RJ_paQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 181

{"id":"a223878d-38fd-480b-bed0-713fa39f836c","email":"me+f35ef097-1f86-4e87-913a-5eeab3cdf74a@test.com","handle":"me_200226f6","name":"시드유저","followerCount":0,"tier":"NONE"}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_401_unauthorized"><a class="anchor" href="#_실패_401_unauthorized"></a><a class="link" href="#_실패_401_unauthorized">5.1.1. 실패: 401 Unauthorized</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/me HTTP/1.1
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 401 Unauthorized
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 145

{"code":"AUTH_UNAUTHORIZED","message":"인증이 필요합니다.","timestamp":[2026,2,21,0,12,28,987151600],"path":"/api/me","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_내_프로필_수정"><a class="anchor" href="#_내_프로필_수정"></a><a class="link" href="#_내_프로필_수정">5.2. 내 프로필 수정</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">PATCH /api/me/profile HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxYjdiOWQ0Ni0zZDFkLTRjZDctOWQzMi1jNDk1OGY1YWU5ZjkiLCJlbWFpbCI6Im1lcHJvZmlsZSs5YzdlMmU1ZC1jZjc2LTQ1MjEtYjdhZS04MGUzNTVkZjc0OTFAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDgsImV4cCI6MTc3MTYwMzk0OH0.JQfo8fIfeDsP4Ofbcc_yEFUrd3XOQj5V1i_ce869M1M
Content-Length: 103
Host: localhost:8080

{
  "website" : "https://example.com",
  "profileImageFileId" : null,
  "bio" : "안녕하세요"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 254

{
  "id" : "1b7b9d46-3d1d-4cd7-9d32-c4958f5ae9f9",
  "handle" : "meprofile_1d5436cb",
  "name" : "나",
  "bio" : "안녕하세요",
  "website" : "https://example.com",
  "profileImageUrl" : null,
  "followerCount" : 0,
  "followingCount" : 0
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_다른_유저_파일_사용403"><a class="anchor" href="#_실패_다른_유저_파일_사용403"></a><a class="link" href="#_실패_다른_유저_파일_사용403">5.2.1. 실패: 다른 유저 파일 사용(403)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">PATCH /api/me/profile HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiNzIzOGRlOC0wMzg0LTQxMWItYjIxMC02ZGY4NGQ0OWRlMWIiLCJlbWFpbCI6Im1lNDAzK2MwMTViNzFmLTI3MTQtNGE5Mi04YThmLTczMDYyNjkzYzQ1MUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0OCwiZXhwIjoxNzcxNjAzOTQ4fQ.9BJQ-uvqL63W15yMvQ_3IL0YkYExsNUs_h3K3fwGMzc
Content-Length: 131
Host: localhost:8080

{
  "website" : "https://hack.com",
  "profileImageFileId" : "5a6ba340-ff40-4560-b6e4-51d2e2bfacee",
  "bio" : "변경시도"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 403 Forbidden
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 179

{
  "code" : "AUTH_FORBIDDEN",
  "message" : "권한이 없습니다.",
  "timestamp" : "2026-02-21T00:12:28.8305553",
  "path" : "/api/me/profile",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_files"><a class="anchor" href="#_4_files"></a><a class="link" href="#_4_files">6. 4. Files</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>다운로드/썸네일은 ETag(304)를 활용하면 트래픽/로딩을 줄일 수 있습니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_파일_업로드"><a class="anchor" href="#_파일_업로드"></a><a class="link" href="#_파일_업로드">6.1. 파일 업로드</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/files HTTP/1.1
Content-Type: multipart/form-data; boundary=6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3YzcxYzRhNi0yMGI1LTRlY2MtYTA1MC0yYWYxYjYyYmVjMjkiLCJlbWFpbCI6ImZpbGVzKzQ5MjA4YTA4LWE2NWEtNDkzOS1iODkyLWQ5NDg1YWFjODg3ZUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0NywiZXhwIjoxNzcxNjAzOTQ3fQ.k9EX6AyhExuJ5IZMXczYSadDz1keQL6dbdx-PUX4x14
Accept: application/json
Host: localhost:8080

--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Content-Disposition: form-data; name=file; filename=cat.png
Content-Type: image/png

fake image bytes
--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm--</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 324

{
  "fileId" : "07b6de53-388f-4d93-8c49-3df3ab0043cf",
  "url" : "http://localhost/api/files/07b6de53-388f-4d93-8c49-3df3ab0043cf/download",
  "thumbnailUrl" : "http://localhost/api/files/07b6de53-388f-4d93-8c49-3df3ab0043cf/thumbnail",
  "originalFilename" : "cat.png",
  "contentType" : "image/png",
  "size" : 16
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_파일_다운로드_브라우저_렌더링"><a class="anchor" href="#_파일_다운로드_브라우저_렌더링"></a><a class="link" href="#_파일_다운로드_브라우저_렌더링">6.2. 파일 다운로드 (브라우저 렌더링)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/5f6fa6b1-4bd1-4ed2-a424-35089edd5d1d/download HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZjU5NGY5My0zYzc2LTRmYmYtYmMxNi02Mzc4OWQ0MTQ3ZjkiLCJlbWFpbCI6ImZpbGVzK2U0ZmQwOWY4LTMxOGMtNDA5NS1hNDhiLTE5NTZiMmZhYWM3MkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0NywiZXhwIjoxNzcxNjAzOTQ3fQ.oi8YOqUJmcoWP99t14gqTwmimU4v0pKTs3YewEuoagI
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "c3a374431bc644c01fb6c84291a22ec0"
Cache-Control: max-age=31536000, public, immutable
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="hello.bin"
Accept-Ranges: bytes
Content-Length: 5
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY

hello</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_304_not_modified_etag"><a class="anchor" href="#_304_not_modified_etag"></a><a class="link" href="#_304_not_modified_etag">6.2.1. 304 Not Modified (ETag)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/5f6fa6b1-4bd1-4ed2-a424-35089edd5d1d/download HTTP/1.1
If-None-Match: "c3a374431bc644c01fb6c84291a22ec0"
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkZjU5NGY5My0zYzc2LTRmYmYtYmMxNi02Mzc4OWQ0MTQ3ZjkiLCJlbWFpbCI6ImZpbGVzK2U0ZmQwOWY4LTMxOGMtNDA5NS1hNDhiLTE5NTZiMmZhYWM3MkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0NywiZXhwIjoxNzcxNjAzOTQ3fQ.oi8YOqUJmcoWP99t14gqTwmimU4v0pKTs3YewEuoagI
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 304 Not Modified
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "c3a374431bc644c01fb6c84291a22ec0"
Accept-Ranges: bytes
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_썸네일_조회"><a class="anchor" href="#_썸네일_조회"></a><a class="link" href="#_썸네일_조회">6.3. 썸네일 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/d77a7577-0ffa-4902-ac9a-012aef6187c8/thumbnail HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3NjEwNDYyYi1lNzdjLTRhNDItYjExMy01ZTk4YWU2YjQzNmIiLCJlbWFpbCI6InRodW1iKzdlMTE4NjY0LTRmZmMtNGY4OS05NzFmLTA1NDlkNzNjMmJjNkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0NywiZXhwIjoxNzcxNjAzOTQ3fQ.pRx6IePJZ1nW3dTAu8FDFpPgLncgm-CAtsXqnNg1s-g
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "2524c44b07696396ace95806dfc6f894"
Cache-Control: max-age=31536000, public, immutable
Content-Type: image/jpeg
Content-Disposition: inline; filename="thumbnail-pic.jpg"
Accept-Ranges: bytes
Content-Length: 4
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY

	</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_304_not_modified_etag_2"><a class="anchor" href="#_304_not_modified_etag_2"></a><a class="link" href="#_304_not_modified_etag_2">6.3.1. 304 Not Modified (ETag)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/files/d77a7577-0ffa-4902-ac9a-012aef6187c8/thumbnail HTTP/1.1
If-None-Match: "2524c44b07696396ace95806dfc6f894"
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3NjEwNDYyYi1lNzdjLTRhNDItYjExMy01ZTk4YWU2YjQzNmIiLCJlbWFpbCI6InRodW1iKzdlMTE4NjY0LTRmZmMtNGY4OS05NzFmLTA1NDlkNzNjMmJjNkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0NywiZXhwIjoxNzcxNjAzOTQ3fQ.pRx6IePJZ1nW3dTAu8FDFpPgLncgm-CAtsXqnNg1s-g
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 304 Not Modified
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
ETag: "2524c44b07696396ace95806dfc6f894"
Accept-Ranges: bytes
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_follows"><a class="anchor" href="#_5_follows"></a><a class="link" href="#_5_follows">7. 5. Follows</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_팔로우"><a class="anchor" href="#_팔로우"></a><a class="link" href="#_팔로우">7.1. 팔로우</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/follows/4755daf1-3d09-4ceb-ba1e-52dc42db6033 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2MGQzZGMyNS0yYTk5LTRiODQtODJkMy0xZDdkMmM5MDRmYzciLCJlbWFpbCI6ImZvbGxvd21lK2ZhNjFhNzJkLTVmNGItNDI1Ny04ZDc1LWEyZWIzMzc3MTllNEB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0OCwiZXhwIjoxNzcxNjAzOTQ4fQ.GpM9nmKakN2vdMtTZtnCG_q-KTYjdHNcZPSh7OLxGcU
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_자기_자신_팔로우400"><a class="anchor" href="#_실패_자기_자신_팔로우400"></a><a class="link" href="#_실패_자기_자신_팔로우400">7.1.1. 실패: 자기 자신 팔로우(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/follows/4e517d9a-03e0-49b1-affb-05376e63b21a HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0ZTUxN2Q5YS0wM2UwLTQ5YjEtYWZmYi0wNTM3NmU2M2IyMWEiLCJlbWFpbCI6InNlbGYrMjljYWYzOWItZDY2Yi00ZTQwLTlkMjAtMDFiM2E1OTQ5YTcxQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ4LCJleHAiOjE3NzE2MDM5NDh9.i-Aty1oC9WBrNLD1EmcHE2hOWWGq9V0xg8oooWNd2zE
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 216

{"code":"FOLLOW_CANNOT_FOLLOW_SELF","message":"자기 자신을 팔로우할 수 없습니다.","timestamp":"2026-02-21T00:12:28.1945236","path":"/api/follows/4e517d9a-03e0-49b1-affb-05376e63b21a","fieldErrors":null}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_언팔로우"><a class="anchor" href="#_언팔로우"></a><a class="link" href="#_언팔로우">7.2. 언팔로우</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/follows/d001664c-92f7-47b8-9a8f-e99f3f84a66d HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZGYyYzc0ZC03MmViLTQwNmQtYjQ0MC1lZGExZjM4Yzc4OWYiLCJlbWFpbCI6InVuZm9sbG93bWUrNDdiZTZjYTYtZjQ2Ny00NDE1LWI1MmMtZTk3NTc4Mjg0MjFjQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ4LCJleHAiOjE3NzE2MDM5NDh9.UQ-aIKOo8rcWegSScGg9oPFhpfr4M3qw8fyU5mC1Qo4
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_6_posts"><a class="anchor" href="#_6_posts"></a><a class="link" href="#_6_posts">8. 6. Posts</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>게시글에 파일이 포함된다면, 먼저 Files 업로드로 fileId 확보 후 Posts에서 참조하는 흐름을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_게시글_생성"><a class="anchor" href="#_게시글_생성"></a><a class="link" href="#_게시글_생성">8.1. 게시글 생성</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0NjE1NTdjNy1mYmUzLTQ5OWYtOWExNy1iZTBlNmZjZWE1MWMiLCJlbWFpbCI6InBvc3QrZGI1NDVhY2EtYzk0YS00YWQ4LTkxZmMtMTFlM2E3YTY5YWFlQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUxLCJleHAiOjE3NzE2MDM5NTF9.tF1xNUHn8SFB51-Pdhdb4O33Xw5uL9wR4U3eb-q6qJk
Content-Length: 217
Host: localhost:8080

{
  "imageFileIds" : [ "bf0c9b2b-b564-4d7e-82fe-d209d6d8a71f" ],
  "visibility" : "FOLLOWERS",
  "imageUrls" : [ "https://example.com/legacy-image.jpg" ],
  "content" : "팔로워에게만 공유합니다 🙂"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 331

{
  "postId" : "ca9174d3-835d-4342-b56d-0228c2dc232f",
  "authorId" : "461557c7-fbe3-499f-9a17-be0e6fcea51c",
  "content" : "팔로워에게만 공유합니다 🙂",
  "imageUrls" : [ "/api/files/bf0c9b2b-b564-4d7e-82fe-d209d6d8a71f/download" ],
  "visibility" : "FOLLOWERS",
  "createdAt" : "2026-02-21T00:12:31.6235856"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_게시글_단건_조회"><a class="anchor" href="#_게시글_단건_조회"></a><a class="link" href="#_게시글_단건_조회">8.2. 게시글 단건 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/9e397f92-9e00-4db2-9a8d-4f48d5b26ae1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYmZmMmE2Zi03YTgzLTRmODAtYWUyOS01ODhhNmQyNTZjNTYiLCJlbWFpbCI6ImRldGFpbCsxODI1MmIzOC1lNWI2LTRmYTgtYTk2MS1kYmM2NTM2OWNlOGFAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNTEsImV4cCI6MTc3MTYwMzk1MX0.2zzS68BKVuCrYPMgOmKrs9MiH1LVw3AkPYlUN-O888A
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 288

{
  "postId" : "9e397f92-9e00-4db2-9a8d-4f48d5b26ae1",
  "authorId" : "cbff2a6f-7a83-4f80-ae29-588a6d256c56",
  "content" : "상세조회 테스트",
  "imageUrls" : [ "https://example.com/image1.jpg" ],
  "visibility" : "FOLLOWERS",
  "createdAt" : "2026-02-21T00:12:31.8101047"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_게시글_삭제"><a class="anchor" href="#_게시글_삭제"></a><a class="link" href="#_게시글_삭제">8.3. 게시글 삭제</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/posts/14d4b2ff-c767-43ce-b441-1d880c96e172 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzY2Q1M2NlNi1jOGM4LTQxNjktYWE2OS0zYWFlZWM4YmQ5YzEiLCJlbWFpbCI6ImRlbCs2MWZlODllNy1kOTYwLTQ1MmMtODYxYS05YTY4OWQ4NmFiODRAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNTEsImV4cCI6MTc3MTYwMzk1MX0.4Mkr1c9arXhCfZy6jXzjlPKi52UqOMa6N4Il7iZXGbs
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_post_likes"><a class="anchor" href="#_7_post_likes"></a><a class="link" href="#_7_post_likes">9. 7. Post Likes</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_좋아요"><a class="anchor" href="#_좋아요"></a><a class="link" href="#_좋아요">9.1. 좋아요</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/cb580947-99a7-47d9-abbe-db41d22d54f7/likes HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjN2JiMGMwYi1jNDZhLTRmN2YtOTQ0ZS05MGM5NDE2OWU3NDMiLCJlbWFpbCI6Imxpa2UrODNmMjAyYTEtNzgxNS00MDJiLWI1ZGMtZWI3OTA3Zjk5MzE5QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ4LCJleHAiOjE3NzE2MDM5NDh9.UgtHfegMLg7DRC1K4DunYCMHDzpOlFn3G6ucq060_-g
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_좋아요_취소"><a class="anchor" href="#_좋아요_취소"></a><a class="link" href="#_좋아요_취소">9.2. 좋아요 취소</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/posts/e21b7ad8-a9d8-4780-98ef-4b5b2919de0b/likes HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5OTVjNmUxMS1mZDE0LTRlYjYtYTVmMy00YzEyODlkNTJlZGMiLCJlbWFpbCI6InVubGlrZStkNjcxZTFjZC03ZThkLTQ1YmMtODQzOS1lNjk2ZDVhZTc1NzdAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDgsImV4cCI6MTc3MTYwMzk0OH0.CDyN6K4KraW5Ir5W2OJ3T8vaAsow1C0VJ8vpNMjRWus
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_8_comments"><a class="anchor" href="#_8_comments"></a><a class="link" href="#_8_comments">10. 8. Comments</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_댓글_생성201"><a class="anchor" href="#_댓글_생성201"></a><a class="link" href="#_댓글_생성201">10.1. 댓글 생성(201)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/8a1f43d2-bd49-4f61-836f-b5c701fd6d4e/comments HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2NmFlY2IxNi01MWU2LTQwZmEtODlkYy0wYzRmMjBkMmQ5MzciLCJlbWFpbCI6ImNvbW1lbnRlcisxODA4ZTY3My0xZjg3LTQ4NGUtOGE0Ny04MzY1MDFkZmRmODJAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDYsImV4cCI6MTc3MTYwMzk0Nn0.wBX3Zt_C7zvEes1G20E7jPSd0L_DG5ZR-g_tyo1kIv4
Content-Length: 27
Host: localhost:8080

{
  "content" : "nice!"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Location: /api/comments/dcffeca1-7095-4226-a5fe-e8591002ec23
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 240

{
  "commentId" : "dcffeca1-7095-4226-a5fe-e8591002ec23",
  "postId" : "8a1f43d2-bd49-4f61-836f-b5c701fd6d4e",
  "userId" : "66aecb16-51e6-40fa-89dc-0c4f20d2d937",
  "content" : "nice!",
  "createdAt" : "2026-02-21T00:12:26.8542042"
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_내용_비어있음400"><a class="anchor" href="#_실패_내용_비어있음400"></a><a class="link" href="#_실패_내용_비어있음400">10.1.1. 실패: 내용 비어있음(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/posts/a42368f9-f1e0-4a51-a41a-e83aa52ccb23/comments HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhODBmN2VkMS1jNDRjLTQwNzktODk0ZC0yZTA5NDhlYzcyZTYiLCJlbWFpbCI6ImNvbW1lbnRlcjIrYTczNjZhY2EtYTgzNS00NGE4LWI3MjctN2EzMTU0MjM1MzE0QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.PlodEXQ7rQteMPdyG-PZk7mwIbtzVklfZMHV2T4Ntbg
Content-Length: 25
Host: localhost:8080

{
  "content" : "   "
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 309

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:26.6492486",
  "path" : "/api/posts/a42368f9-f1e0-4a51-a41a-e83aa52ccb23/comments",
  "fieldErrors" : [ {
    "field" : "content",
    "reason" : "must not be blank"
  } ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_댓글_목록200"><a class="anchor" href="#_댓글_목록200"></a><a class="link" href="#_댓글_목록200">10.2. 댓글 목록(200)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/827fb76e-ddcd-4917-bc03-907336d8bc5f/comments?size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0Nzg4NTRmMy1iZDE1LTRjZTEtOTNkNS1kNjZkZTlkODY3ZTIiLCJlbWFpbCI6InJlYWRlcitlZGNiMWUwNS00NmY1LTQ2MGUtOWI3OC01MjYwNjAwNzA2YTJAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDYsImV4cCI6MTc3MTYwMzk0Nn0.8yWc41SUA1771LvXpAZjO0iqUVPwvP6q0H9Owni75T0
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 330

{
  "items" : [ {
    "commentId" : "49f66b67-439c-408c-95d5-4c6e0aabded2",
    "userId" : "478854f3-bd15-4ce1-93d5-d66de9d867e2",
    "handle" : "reader_5e15bfb5",
    "name" : "리더",
    "content" : "first comment",
    "createdAt" : "2026-02-21T00:12:26.480025"
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시"><a class="anchor" href="#_다음_페이지_예시"></a><a class="link" href="#_다음_페이지_예시">10.2.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/b89b1168-01f0-4165-8c56-ec4841a700fd/comments?size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlOGNhYTViNy1jNGRiLTQxNDEtYjU5NC1jMGFlMWQ0Y2QxYmEiLCJlbWFpbCI6InJlYWRlck5leHQrOTlkYzhiNTgtYjMxNC00ZDYwLWFmNmQtYjNhNWMyNTJkYWZiQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9._6x9ZfAFhbGljWCRf7LvWpevqnrBAM_SqimWRC-_g8o
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 411

{
  "items" : [ {
    "commentId" : "18a1ca9f-7496-4c51-9a2a-e606fc2aeff9",
    "userId" : "e8caa5b7-c4db-4141-b594-c0ae1d4cd1ba",
    "handle" : "readerNext_1ec4b35e",
    "name" : "리더",
    "content" : "comment 2",
    "createdAt" : "2026-02-21T00:12:26.751884"
  } ],
  "nextCursor" : "MjAyNi0wMi0yMVQwMDoxMjoyNi43NTE4ODR8MThhMWNhOWYtNzQ5Ni00YzUxLTlhMmEtZTYwNmZjMmFlZmY5",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_followup_예시"><a class="anchor" href="#_다음_페이지_followup_예시"></a><a class="link" href="#_다음_페이지_followup_예시">10.2.2. 다음 페이지 followup 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/b89b1168-01f0-4165-8c56-ec4841a700fd/comments?cursor=MjAyNi0wMi0yMVQwMDoxMjoyNi43NTE4ODR8MThhMWNhOWYtNzQ5Ni00YzUxLTlhMmEtZTYwNmZjMmFlZmY5&amp;size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlOGNhYTViNy1jNGRiLTQxNDEtYjU5NC1jMGFlMWQ0Y2QxYmEiLCJlbWFpbCI6InJlYWRlck5leHQrOTlkYzhiNTgtYjMxNC00ZDYwLWFmNmQtYjNhNWMyNTJkYWZiQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9._6x9ZfAFhbGljWCRf7LvWpevqnrBAM_SqimWRC-_g8o
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 330

{
  "items" : [ {
    "commentId" : "76400558-d5d5-428f-8d3f-fa3b84669f7b",
    "userId" : "e8caa5b7-c4db-4141-b594-c0ae1d4cd1ba",
    "handle" : "readerNext_1ec4b35e",
    "name" : "리더",
    "content" : "comment 1",
    "createdAt" : "2026-02-21T00:12:26.749888"
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_invalid_cursor400"><a class="anchor" href="#_실패_invalid_cursor400"></a><a class="link" href="#_실패_invalid_cursor400">10.2.3. 실패: invalid cursor(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/posts/981b1be4-536e-4e55-be93-69f8a91f2ffd/comments?cursor=%25%25%25invalid%25%25%25&amp;size=10 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0YjYwYzdkZS1jMTgwLTQ4N2UtODBhOC1mMDI4MTg4OTYzZDkiLCJlbWFpbCI6ImJhZEN1cnNvcis3ZDM2NjBjMC02ZjkzLTRmNzAtYjUzYi03NWRiMjFkMTRjNTZAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDYsImV4cCI6MTc3MTYwMzk0Nn0.Ic6BIhdWMppeoKsOrpdmOyn3-9zVjzUApYuuWsA22c8
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 241

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:26.7078181",
  "path" : "/api/posts/981b1be4-536e-4e55-be93-69f8a91f2ffd/comments",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_댓글_삭제204"><a class="anchor" href="#_댓글_삭제204"></a><a class="link" href="#_댓글_삭제204">10.3. 댓글 삭제(204)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/comments/6fa806c2-170a-4768-b49e-f0c19b7a738a HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhMjE5ZmM4ZC02M2EyLTQ5MGMtOGMxZi1hNzM1NzdmYjNkZmMiLCJlbWFpbCI6ImRlbGV0ZXIrNDI0ODM2OWQtZWI2Ny00MDk5LWFlOWEtMzA3Y2EzM2UyZGE5QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.SOEYeLVHztilL-xlX9adTLn4YXUDhqdL0wF-Tc2evO0
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_실패_invalid_uuid400"><a class="anchor" href="#_실패_invalid_uuid400"></a><a class="link" href="#_실패_invalid_uuid400">10.3.1. 실패: invalid uuid(400)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/comments/1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5ZTk4OGUzZC02MmExLTRiNDctOGU0Ny05MGIzYjJhYTAzY2IiLCJlbWFpbCI6ImRlbGV0ZXJCYWQrMzYzYjhkZWMtNjMwMy00MDhmLTgwNDAtMjg1MmVkNGVmZmQ2QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ2LCJleHAiOjE3NzE2MDM5NDZ9.kg1N651prdOvQgCCdew5QIQA2J-7_UCqgkMdLKvVwuY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 400 Bad Request
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 200

{
  "code" : "COMMON_INVALID_REQUEST",
  "message" : "요청이 올바르지 않습니다.",
  "timestamp" : "2026-02-21T00:12:26.5869468",
  "path" : "/api/comments/1",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_9_feed"><a class="anchor" href="#_9_feed"></a><a class="link" href="#_9_feed">11. 9. Feed</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_피드_조회"><a class="anchor" href="#_피드_조회"></a><a class="link" href="#_피드_조회">11.1. 피드 조회</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/feed?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmMTczYjFjMi05ZTY4LTQwMjgtYTZhNy1iM2JkYjkxZDQyN2MiLCJlbWFpbCI6ImZlZWRtZStlYWI1ZWU1Yi05Mzk5LTRkZjctODBjZC1hOGUzOTkyZGNjMDNAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDcsImV4cCI6MTc3MTYwMzk0N30.2wJdHRXA0oRoZlcJrIlxYSgNlNUZXw9ygU87p4cCM8k
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 953

{
  "items" : [ {
    "postId" : "93b27e4b-6765-43f9-9d9c-01c13af79c39",
    "authorId" : "60c7733b-cbed-467d-a591-9f55090d6ff6",
    "authorHandle" : "feedtarget_a8afa535",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 3",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-02-21T00:12:27.2728556",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  }, {
    "postId" : "dab85524-a6a1-4f62-b774-31d7df560b9d",
    "authorId" : "60c7733b-cbed-467d-a591-9f55090d6ff6",
    "authorHandle" : "feedtarget_a8afa535",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 2",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-02-21T00:12:27.2708568",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  } ],
  "nextCursor" : "2026-02-21T00:12:27.270856800|dab85524-a6a1-4f62-b774-31d7df560b9d",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_2"><a class="anchor" href="#_다음_페이지_예시_2"></a><a class="link" href="#_다음_페이지_예시_2">11.1.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/feed?size=2&amp;cursor=2026-02-21T00%3A12%3A26.977725300%7Cb7ff87a7-c035-4af6-acc1-9cdedb0ad22d HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiYzFiMzU4OC1mMjY0LTQzZWMtYTEzYS05OTNhNTc0YzBmMDMiLCJlbWFpbCI6ImZlZWRtZSsxMzNhMmY4Mi05OGFkLTRiMGMtYmQ5Mi05OTkwMTMxYmM5NGRAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDYsImV4cCI6MTc3MTYwMzk0Nn0.qQQzCOz4nxBYx3pUHcse6MC0zv5d3c_yRZ880WgVjPg
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 890

{
  "items" : [ {
    "postId" : "b7ff87a7-c035-4af6-acc1-9cdedb0ad22d",
    "authorId" : "85f1cc99-b95b-4f83-a1ae-44341b6a24f4",
    "authorHandle" : "feedtarget_5a9c32c3",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 2",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-02-21T00:12:26.9777253",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  }, {
    "postId" : "0211d447-6f1f-451f-9559-779847d7d2d4",
    "authorId" : "85f1cc99-b95b-4f83-a1ae-44341b6a24f4",
    "authorHandle" : "feedtarget_5a9c32c3",
    "authorName" : "타겟유저",
    "content" : "팔로잉 글 1",
    "imageUrls" : [ ],
    "visibility" : "ALL",
    "createdAt" : "2026-02-21T00:12:26.9767258",
    "likeCount" : 0,
    "commentCount" : 0,
    "likedByMe" : false
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_10_conversations_messages"><a class="anchor" href="#_10_conversations_messages"></a><a class="link" href="#_10_conversations_messages">12. 10. Conversations &amp; Messages</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>권장 사용 흐름
- 대화방 생성/조회 → 목록 조회
- 메시지 조회/전송
- 실시간 갱신은 SSE 이벤트 수신 후 필요한 API만 재조회하는 방식 권장</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_대화방_생성조회direct"><a class="anchor" href="#_대화방_생성조회direct"></a><a class="link" href="#_대화방_생성조회direct">12.1. 대화방 생성/조회(DIRECT)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/direct HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlYzEwNzc4MS01NjRiLTQ2ZWItOWMwYi02M2EzMjAxMjMyZWEiLCJlbWFpbCI6ImRtLWNyZWF0ZSswNmU3ZjFiNy1jNzY1LTQ1NzgtOTA1MS1lY2I5ZDViMmJlOGVAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.aKuLnIY8nYxoGJNT8-hBSzn-sV7Ol72JhetfyFvcMlA
Content-Length: 63
Host: localhost:8080

{
  "targetUserId" : "5f747111-2dd6-4241-b7ee-9b255bc7289c"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 65

{
  "conversationId" : "31ccc740-111a-41ea-ab7e-7ec5b8bba233"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_대화방_목록"><a class="anchor" href="#_대화방_목록"></a><a class="link" href="#_대화방_목록">12.2. 대화방 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJkNjUzNjRhMy02OTMyLTRhMjMtODA4Yy05ZjY4MjZiNjMxYzEiLCJlbWFpbCI6ImRtKzA5M2Y4OTc1LTViMGYtNDUxNi04MWVkLTZlZmE1OWJlN2QwZEB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM0OSwiZXhwIjoxNzcxNjAzOTQ5fQ.0cMuWaF4_E5IOZgsx72Vxp2f0uf-8xSuRIxNSZDQEeQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 401

{
  "items" : [ {
    "conversationId" : "52c4bbda-7d44-416e-a010-72121bb6151f",
    "peerUser" : {
      "userId" : "189f2ca6-74ef-4ee6-9bef-4b07dbf20d65",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello dm",
    "lastMessageAt" : "2026-02-21T00:12:29.10272",
    "unreadCount" : 1
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_3"><a class="anchor" href="#_다음_페이지_예시_3"></a><a class="link" href="#_다음_페이지_예시_3">12.2.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5NDhjYWU3YS03NTU0LTRhMWMtYjlhZC0xOWNhNjg4MDQ4NmIiLCJlbWFpbCI6ImRtTmV4dEErMjM1Y2YwNzctMmJkNy00MWFmLWJlMzktMzQxNWQ1OTFjNTFlQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ5LCJleHAiOjE3NzE2MDM5NDl9.yvVWl0ngsp98ruXgwOi9M3NAcwFV30p28z2yqgeZzRk
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 449

{
  "items" : [ {
    "conversationId" : "f8010208-1537-402e-bc42-b6b34e57206a",
    "peerUser" : {
      "userId" : "dbcdb235-4f04-4b59-bb71-374654d17bd4",
      "nickname" : "상대3",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello 3",
    "lastMessageAt" : "2026-02-21T00:12:29.291768",
    "unreadCount" : 1
  } ],
  "nextCursor" : "1771600349291_f8010208-1537-402e-bc42-b6b34e57206a",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_followup_예시_2"><a class="anchor" href="#_다음_페이지_followup_예시_2"></a><a class="link" href="#_다음_페이지_followup_예시_2">12.2.2. 다음 페이지 followup 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?cursor=1771600349291_f8010208-1537-402e-bc42-b6b34e57206a&amp;size=1 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5NDhjYWU3YS03NTU0LTRhMWMtYjlhZC0xOWNhNjg4MDQ4NmIiLCJlbWFpbCI6ImRtTmV4dEErMjM1Y2YwNzctMmJkNy00MWFmLWJlMzktMzQxNWQ1OTFjNTFlQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzQ5LCJleHAiOjE3NzE2MDM5NDl9.yvVWl0ngsp98ruXgwOi9M3NAcwFV30p28z2yqgeZzRk
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 449

{
  "items" : [ {
    "conversationId" : "2da81225-feae-4c9f-9fc5-7d7e987bbea8",
    "peerUser" : {
      "userId" : "1fa4ee82-4e8d-4a98-917d-12f940b2d38e",
      "nickname" : "상대2",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "hello 2",
    "lastMessageAt" : "2026-02-21T00:12:29.281237",
    "unreadCount" : 1
  } ],
  "nextCursor" : "1771600349281_2da81225-feae-4c9f-9fc5-7d7e987bbea8",
  "hasNext" : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_대화_읽음_처리read"><a class="anchor" href="#_대화_읽음_처리read"></a><a class="link" href="#_대화_읽음_처리read">12.3. 대화 읽음 처리(READ)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/0c897a15-25d9-42a8-b55a-db64a52f3f13/read HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzYWIzYzM0ZS1mZGJiLTQ4ZmMtOTQ5My1lNWNiYWI3MDM1ODEiLCJlbWFpbCI6ImRtUmVhZCs3NWI3ZmZiNS1kMDQ3LTQ3NzctYTE1Ny04MTljY2EzMGUyODJAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.DEexaHvgjOt_RVgdP6Oz_eiPor2pOCFIAyHxnNul1_M
Host: localhost:8080
Content-Type: application/x-www-form-urlencoded</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_before"><a class="anchor" href="#_안_읽은_메시지_before"></a><a class="link" href="#_안_읽은_메시지_before">12.4. 안 읽은 메시지: before</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzYWIzYzM0ZS1mZGJiLTQ4ZmMtOTQ5My1lNWNiYWI3MDM1ODEiLCJlbWFpbCI6ImRtUmVhZCs3NWI3ZmZiNS1kMDQ3LTQ3NzctYTE1Ny04MTljY2EzMGUyODJAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.DEexaHvgjOt_RVgdP6Oz_eiPor2pOCFIAyHxnNul1_M
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 398

{
  "items" : [ {
    "conversationId" : "0c897a15-25d9-42a8-b55a-db64a52f3f13",
    "peerUser" : {
      "userId" : "6f8a3984-bd6d-4942-bc4f-ce4faa7a019c",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "msg2",
    "lastMessageAt" : "2026-02-21T00:12:29.609805",
    "unreadCount" : 2
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_before_messages_get"><a class="anchor" href="#_안_읽은_메시지_before_messages_get"></a><a class="link" href="#_안_읽은_메시지_before_messages_get">12.5. 안 읽은 메시지: before (messages get)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZDQyNWIwMy04OGE3LTRjODQtODI0OC1jZDZiNzdmMTFlYjAiLCJlbWFpbCI6InJlYWRPbkxpc3QrZDMwNzBjMzEtMGEyMC00ZDI3LTljMDgtYjRhYmE2MDg5NDU0QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUwLCJleHAiOjE3NzE2MDM5NTB9.dtHNwtWTOJv_IKArcv3Ka60oVZyZWfIN-IDGQhzEIPE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 396

{
  "items" : [ {
    "conversationId" : "7c163a45-7b2c-463e-88eb-1b5bbb3df496",
    "peerUser" : {
      "userId" : "a4e982f9-bc3d-4bcd-9842-c74772ba6e63",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "m2",
    "lastMessageAt" : "2026-02-21T00:12:30.597135",
    "unreadCount" : 2
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_after"><a class="anchor" href="#_안_읽은_메시지_after"></a><a class="link" href="#_안_읽은_메시지_after">12.6. 안 읽은 메시지: after</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzYWIzYzM0ZS1mZGJiLTQ4ZmMtOTQ5My1lNWNiYWI3MDM1ODEiLCJlbWFpbCI6ImRtUmVhZCs3NWI3ZmZiNS1kMDQ3LTQ3NzctYTE1Ny04MTljY2EzMGUyODJAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.DEexaHvgjOt_RVgdP6Oz_eiPor2pOCFIAyHxnNul1_M
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 398

{
  "items" : [ {
    "conversationId" : "0c897a15-25d9-42a8-b55a-db64a52f3f13",
    "peerUser" : {
      "userId" : "6f8a3984-bd6d-4942-bc4f-ce4faa7a019c",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "msg2",
    "lastMessageAt" : "2026-02-21T00:12:29.609805",
    "unreadCount" : 0
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_안_읽은_메시지_after_messages_get"><a class="anchor" href="#_안_읽은_메시지_after_messages_get"></a><a class="link" href="#_안_읽은_메시지_after_messages_get">12.7. 안 읽은 메시지: after (messages get)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZDQyNWIwMy04OGE3LTRjODQtODI0OC1jZDZiNzdmMTFlYjAiLCJlbWFpbCI6InJlYWRPbkxpc3QrZDMwNzBjMzEtMGEyMC00ZDI3LTljMDgtYjRhYmE2MDg5NDU0QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUwLCJleHAiOjE3NzE2MDM5NTB9.dtHNwtWTOJv_IKArcv3Ka60oVZyZWfIN-IDGQhzEIPE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 396

{
  "items" : [ {
    "conversationId" : "7c163a45-7b2c-463e-88eb-1b5bbb3df496",
    "peerUser" : {
      "userId" : "a4e982f9-bc3d-4bcd-9842-c74772ba6e63",
      "nickname" : "상대",
      "profileImageUrl" : null
    },
    "lastMessagePreview" : "m2",
    "lastMessageAt" : "2026-02-21T00:12:30.597135",
    "unreadCount" : 0
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_전송"><a class="anchor" href="#_메시지_전송"></a><a class="link" href="#_메시지_전송">12.8. 메시지 전송</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/conversations/64121b11-36b0-4acc-8806-b585111e6904/messages HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIzMjYwYzdlMy1jMDM5LTQ5ODYtOWJhZS1mOGQ3NDM3OGJmZjciLCJlbWFpbCI6InNlbmRtZSs2MTJiYzA4Ni0wZDNiLTQzMGEtOGJmMS1lM2E2ZTE5YTRjYzZAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.69E2BWdkgR9qPt96n8ayXIPDJjzoObUck76rcV6x47M
Content-Length: 67
Host: localhost:8080

{
  "content" : "안녕! (REST Docs)",
  "attachmentIds" : [ ]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 288

{
  "messageId" : "ee275781-ab73-4a53-a8d6-7a99d03d0e7f",
  "conversationId" : "64121b11-36b0-4acc-8806-b585111e6904",
  "senderId" : "3260c7e3-c039-4986-9bae-f8d74378bff7",
  "content" : "안녕! (REST Docs)",
  "attachments" : [ ],
  "createdAt" : "2026-02-21T00:12:29.9361664"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_목록"><a class="anchor" href="#_메시지_목록"></a><a class="link" href="#_메시지_목록">12.9. 메시지 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/1d899321-fc64-4e21-a0ca-b7f4aa969ba0/messages?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxNTVmNGJmNi01MDg2LTQ1MWMtYWMzMS02MDNhYWZjNGJhZmIiLCJlbWFpbCI6Im1zZ21lK2MyZjY2MTYwLTMzMmMtNDlhYy1iYWNlLTljOTljOTc3YTI0MEB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MCwiZXhwIjoxNzcxNjAzOTUwfQ.wtpAdwTH7eN1Zo1TaUaOLIQqSvpAL5baBvLhcmefrwA
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 593

{
  "items" : [ {
    "messageId" : "18e21f3f-0fdf-4ad0-9e9b-573748505c75",
    "senderId" : "155f4bf6-5086-451c-ac31-603aafc4bafb",
    "content" : "메시지 3",
    "createdAt" : "2026-02-21T00:12:30.1512097",
    "attachments" : [ ]
  }, {
    "messageId" : "0f3e7cc2-c4bb-4841-bb6e-82f8d8eea49e",
    "senderId" : "155f4bf6-5086-451c-ac31-603aafc4bafb",
    "content" : "메시지 2",
    "createdAt" : "2026-02-21T00:12:30.1492104",
    "attachments" : [ ]
  } ],
  "nextCursor" : "2026-02-21T00:12:30.149210400|0f3e7cc2-c4bb-4841-bb6e-82f8d8eea49e",
  "hasNext" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_4"><a class="anchor" href="#_다음_페이지_예시_4"></a><a class="link" href="#_다음_페이지_예시_4">12.9.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/73b840e7-7419-42e5-8dc2-fd9df342b464/messages?size=2&amp;cursor=2026-02-21T00%3A12%3A30.241415800%7C4c3430ff-f3a0-4121-be9c-382d40743a54 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlOTQ4NWM3Ni1iZTVhLTRjMDEtYjhhMy1mYzIxMmQxYTA0MDAiLCJlbWFpbCI6Im1zZ21lK2Y3MjY2NTVhLWZhOTEtNDQzMy04MGU4LWJjYjU4NTU5NWFlYkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MCwiZXhwIjoxNzcxNjAzOTUwfQ.wtkVwbpzM1Wzc8ll-k5RM5aHrYQHB-qPn4W4eSzIGhQ
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 297

{
  "items" : [ {
    "messageId" : "49056ae8-4540-463f-9d8d-f7681e7c4923",
    "senderId" : "e9485c76-be5a-4c01-b8a3-fc212d1a0400",
    "content" : "메시지 1",
    "createdAt" : "2026-02-21T00:12:30.239416",
    "attachments" : [ ]
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_자동_읽음_처리_예시"><a class="anchor" href="#_자동_읽음_처리_예시"></a><a class="link" href="#_자동_읽음_처리_예시">12.9.2. 자동 읽음 처리 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/7c163a45-7b2c-463e-88eb-1b5bbb3df496/messages?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjZDQyNWIwMy04OGE3LTRjODQtODI0OC1jZDZiNzdmMTFlYjAiLCJlbWFpbCI6InJlYWRPbkxpc3QrZDMwNzBjMzEtMGEyMC00ZDI3LTljMDgtYjRhYmE2MDg5NDU0QHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUwLCJleHAiOjE3NzE2MDM5NTB9.dtHNwtWTOJv_IKArcv3Ka60oVZyZWfIN-IDGQhzEIPE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 510

{
  "items" : [ {
    "messageId" : "42693753-223c-44b9-9948-62126fdde0d9",
    "senderId" : "a4e982f9-bc3d-4bcd-9842-c74772ba6e63",
    "content" : "m1",
    "createdAt" : "2026-02-21T00:12:30.597135",
    "attachments" : [ ]
  }, {
    "messageId" : "0131c541-b527-46b1-9888-a00cf3c6dc14",
    "senderId" : "a4e982f9-bc3d-4bcd-9842-c74772ba6e63",
    "content" : "m2",
    "createdAt" : "2026-02-21T00:12:30.597135",
    "attachments" : [ ]
  } ],
  "nextCursor" : null,
  "hasNext" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_실패_대화방_없음404"><a class="anchor" href="#_실패_대화방_없음404"></a><a class="link" href="#_실패_대화방_없음404">12.9.3. 실패: 대화방 없음(404)</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/conversations/e254c36a-432d-4823-955b-aaeedfad40f4/messages?size=20 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMThmNTU5OC0yNzIxLTQyMjMtYTE0OS1iM2ZjYTEzNzZjNDUiLCJlbWFpbCI6Im5vQ29uditmZTA4NjFlNC0zMGQ3LTRkZmMtYTE1NC04NGU1MDA0MzE2MGFAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNDksImV4cCI6MTc3MTYwMzk0OX0.ArG9Uc4MoN5ae5xmKp4eVkzPmT7Ou3wiUPqe6NuLO9I
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 404 Not Found
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 258

{
  "code" : "MESSAGE_CONVERSATION_NOT_FOUND",
  "message" : "대화방을 찾을 수 없습니다.",
  "timestamp" : "2026-02-21T00:12:29.7418044",
  "path" : "/api/conversations/e254c36a-432d-4823-955b-aaeedfad40f4/messages",
  "fieldErrors" : null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_숨김"><a class="anchor" href="#_메시지_숨김"></a><a class="link" href="#_메시지_숨김">12.10. 메시지 숨김</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/messages/28f0e7b8-451b-47d1-8846-cf359bfd94f8/hide HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI5MTAzMTAxZi1lM2Q2LTQ3OGMtYWNmYS01MGQ2MmE3OTU3YzciLCJlbWFpbCI6ImhpZGUrZDdkNGEwN2QtNmUwOS00M2E3LTk2ZWUtMGZlNzBmNDgyMmMwQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUwLCJleHAiOjE3NzE2MDM5NTB9.xy2Y_wrTo4UGc9bxYfAila3XEBCNQR9ygi6MLZ7pYGE
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_메시지_삭제모두에게"><a class="anchor" href="#_메시지_삭제모두에게"></a><a class="link" href="#_메시지_삭제모두에게">12.11. 메시지 삭제(모두에게)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/messages/cc73a38b-b14c-471f-b3dc-c9369ed15208/delete-for-all HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyYTgzNjhlZC04MjQ3LTRiM2EtYmUyZC1hNmU5YjEzYzZhN2YiLCJlbWFpbCI6ImRlbCtmNTRhZmFkMC0yYzc5LTRkNjAtYjNhNS1lMDEyNjdkNTFkZTlAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNTAsImV4cCI6MTc3MTYwMzk1MH0.erKMIZxr5TJQflaBzonX2qMETNF0f18qS2kgW5kgXcc
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_11_notifications"><a class="anchor" href="#_11_notifications"></a><a class="link" href="#_11_notifications">13. 11. Notifications</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 이벤트로 새 알림을 감지한 뒤, 화면에서는 알림 목록 API를 재조회하는 패턴을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_알림_목록"><a class="anchor" href="#_알림_목록"></a><a class="link" href="#_알림_목록">13.1. 알림 목록</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/notifications?size=2 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1OTkxMDYzOC0xMGUzLTQ2OWQtOTg2ZS0zYTFmZDE1ODA1NjQiLCJlbWFpbCI6Im5vdGlTZWxlY3QrNzJkZDY4MTQtYzZkYi00NmMzLWFhMzYtYmYxNGRiYjYyNWJjQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUwLCJleHAiOjE3NzE2MDM5NTB9.2ApV2mbUobEO_TUIN0qTGvMNI8Ja2VTDssUw8iWF_OU
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 642

{
  "items" : [ {
    "id" : "f432e3b2-306e-4554-8682-462e0fec5298",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "8c99d98e-4b97-4535-933a-453ef1117d1e",
    "body" : "알림 2",
    "read" : false,
    "createdAt" : "2026-02-21T00:12:30.9373207"
  }, {
    "id" : "e6f9d2b9-64d8-4a63-8751-d5d4de943d93",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "e829012e-2883-4897-8547-288688be6f16",
    "body" : "알림 3",
    "read" : false,
    "createdAt" : "2026-02-21T00:12:30.9373207"
  } ],
  "nextCursor" : "2026-02-21T00:12:30.937320700|e6f9d2b9-64d8-4a63-8751-d5d4de943d93",
  "hasNext" : true,
  "hasUnread" : true
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_다음_페이지_예시_5"><a class="anchor" href="#_다음_페이지_예시_5"></a><a class="link" href="#_다음_페이지_예시_5">13.1.1. 다음 페이지 예시</a></h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/notifications?size=2&amp;cursor=2026-02-21T00%3A12%3A31.041834500%7C99d8c4f8-c387-4597-9f4a-2d75f9f1e6c8 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjY2RhZGU3Yy1lNjE3LTQxZTgtYWYzOC0zMmU5ZDI2M2JhOTciLCJlbWFpbCI6Im5vdGlOZXh0KzM3OTgwNTVkLTkzOTMtNDk2ZS04NWE4LTA5NDVlZTdkMjY1MkB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MSwiZXhwIjoxNzcxNjAzOTUxfQ.8D1lNlNwLDMEvNn6N9xgt40u-EfBRF8IiOpzzWL-K8k
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 334

{
  "items" : [ {
    "id" : "066b8057-f79d-4aef-ba3b-c36b4378eede",
    "type" : "MESSAGE_RECEIVED",
    "refId" : "3e8c1c1c-d3f8-4206-87dd-383d25947956",
    "body" : "알림 1",
    "read" : false,
    "createdAt" : "2026-02-21T00:12:31.0408326"
  } ],
  "nextCursor" : null,
  "hasNext" : false,
  "hasUnread" : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_읽음_처리"><a class="anchor" href="#_알림_읽음_처리"></a><a class="link" href="#_알림_읽음_처리">13.2. 알림 읽음 처리</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/notifications/19d674dc-a4fb-46da-9022-39da7fd8b704/read HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwNGU2NjVmZi02YjNmLTQ5NmItODViNi1mNDExZWQyMGE3NjQiLCJlbWFpbCI6Im5vdGlSZWFkKzNhZGEzYTU1LWRiMmQtNDM0Yi1iZmU1LTk3Y2Y2NjgzNjM4MUB0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MSwiZXhwIjoxNzcxNjAzOTUxfQ.AApBbKCWD22qfmXuK-e3Cjhuo0poQrpnWEnorIuGZlI
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_전체_읽음_처리"><a class="anchor" href="#_알림_전체_읽음_처리"></a><a class="link" href="#_알림_전체_읽음_처리">13.3. 알림 전체 읽음 처리</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">POST /api/notifications/read-all HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0ZjY1NTYzNS1lYjU5LTQxMjktYjVlYS1hOWRjMjY1MDdiYmUiLCJlbWFpbCI6Im5vdGlBbGxSZWFkKzg2MTE0ZGY5LTg5N2QtNDY1Ni1hZTJjLWE2YmQyMTA0MzBiY0B0ZXN0LmNvbSIsImlhdCI6MTc3MTYwMDM1MCwiZXhwIjoxNzcxNjAzOTUwfQ.E7mIsz-AzyvcrQjRy-qZHFeUK_Vt4_Qjo2LdfMGIhm0
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 26

{
  "updatedCount" : 2
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_알림_삭제읽음처리200"><a class="anchor" href="#_알림_삭제읽음처리200"></a><a class="link" href="#_알림_삭제읽음처리200">13.4. 알림 삭제/읽음처리(200)</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">DELETE /api/notifications/read HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI3NzUyODg2NC03YmE1LTQzZWQtYTg4OC1iZWY4NWZmZGI3NTUiLCJlbWFpbCI6Im5vdGlBbGxEZWxldGUrNDhlZWY0MTYtZGNjNi00ZTRmLWJhYWUtNDI1ZjNlMTYxNjJjQHRlc3QuY29tIiwiaWF0IjoxNzcxNjAwMzUxLCJleHAiOjE3NzE2MDM5NTF9.TeZ-7sZZ81MK2v9OT-f3BMJVQ7cmEaRaUs0QUrLSUMY
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 26

{
  "deletedCount" : 2
}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_12_sse"><a class="anchor" href="#_12_sse"></a><a class="link" href="#_12_sse">14. 12. SSE</a></h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SSE 구독 엔드포인트는 인증이 필요합니다.
브라우저에서는 `withCredentials: true`가 필요하고, 가능하면 Cookie 방식(동일 오리진)을 권장합니다.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>프록시/nginx 환경에서는 SSE 버퍼링이 끊김의 원인이 될 수 있어
<code>proxy_buffering off</code>, <code>proxy_read_timeout</code> 등을 권장합니다.
(현재 프로젝트 nginx는 `/api/sse/`에 대해 buffering off 설정이 포함되어 있습니다.)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_sse_구독"><a class="anchor" href="#_sse_구독"></a><a class="link" href="#_sse_구독">14.1. SSE 구독</a></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">GET /api/sse/subscribe HTTP/1.1
Accept: text/event-stream
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjNGE5ZTg3NC1hNmZkLTRiNzktYjZkNy05NzNjMDRmMGJhN2QiLCJlbWFpbCI6InNzZSs2MGM5Y2FlMS1kY2U0LTQwYjItYjVlMS00NWQ4NDQzOWU5OTBAdGVzdC5jb20iLCJpYXQiOjE3NzE2MDAzNTIsImV4cCI6MTc3MTYwMzk1Mn0.gk8Y7bCRL-OjDZiPQGifvgKNsjPmhTrechNJGKgz5Xs
Last-Event-ID: optional-last-event-id
Host: localhost:8080</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Accel-Buffering: no
Cache-Control: no-cache
Content-Type: text/event-stream
X-Content-Type-Options: nosniff
X-XSS-Protection: 0
X-Frame-Options: DENY
Content-Length: 105

event:connected
data:{"serverTime":"2026-02-21T00:12:32.185045","lastEventId":"optional-last-event-id"}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.1-SNAPSHOT<br>
Last updated 2026-02-20 22:35:45 +0900
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>